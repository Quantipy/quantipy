

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Archived release notes &mdash; Quantipy 0.1.3 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  

  
    <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
  

  
        <link rel="index" title="Index"
              href="../../genindex.html"/>
        <link rel="search" title="Search" href="../../search.html"/>
    <link rel="top" title="Quantipy 0.1.3 documentation" href="../../index.html"/>
        <link rel="up" title="Release notes" href="00_overview.html"/>
        <link rel="next" title="How-to-snippets" href="03_how_to_snippets.html"/>
        <link rel="prev" title="Latest (09/04/2019)" href="01_latest.html"/> 

  
  <script src="../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../index.html" class="icon icon-home"> Quantipy
          

          
          </a>

          
            
            
              <div class="version">
                0.1.3
              </div>
            
          

          
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="00_overview.html">Release notes</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="01_latest.html">Latest (09/04/2019)</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Archived release notes</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#sd-14-01-2019">sd (14/01/2019)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#sd-26-10-2018">sd (26/10/2018)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#sd-01-10-2018">sd (01/10/2018)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#sd-04-06-2018">sd (04/06/2018)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#sd-04-04-2018">sd (04/04/2018)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#sd-27-02-2018">sd (27/02/2018)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#sd-12-01-2018">sd (12/01/2018)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#sd-18-12-2017">sd (18/12/2017)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#sd-28-11-2017">sd (28/11/2017)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#sd-13-11-2017">sd (13/11/2017)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#sd-17-10-2017">sd (17/10/2017)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#sd-15-09-2017">sd (15/09/2017)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#sd-31-08-2017">sd (31/08/2017)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#sd-24-07-2017">sd (24/07/2017)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#sd-08-06-2017">sd (08/06/2017)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#sd-17-05-2017">sd (17/05/2017)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#sd-04-05-2017">sd (04/05/2017)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#sd-24-04-2017">sd (24/04/2017)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#sd-06-04-2017">sd (06/04/2017)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#sd-29-03-2017">sd (29/03/2017)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#sd-20-03-2017">sd (20/03/2017)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#sd-07-03-2017">sd (07/03/2017)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#sd-24-02-2017">sd (24/02/2017)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#sd-16-02-2017">sd (16/02/2017)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#sd-04-01-2017">sd (04/01/2017)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#sd-8-12-2016">sd (8/12/2016)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#sd-23-11-2016">sd (23/11/2016)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#sd-16-11-2016">sd (16/11/2016)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#sd-11-11-2016">sd (11/11/2016)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#sd-09-11-2016">sd (09/11/2016)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="03_how_to_snippets.html">How-to-snippets</a><ul>
<li class="toctree-l3"><a class="reference internal" href="how_to_snippets/dimensions_comp.html"><code class="docutils literal notranslate"><span class="pre">DataSet</span></code> Dimensions compatibility</a><ul>
<li class="toctree-l4"><a class="reference internal" href="how_to_snippets/dimensions_comp.html#the-compatibility-mode">The compatibility mode</a></li>
<li class="toctree-l4"><a class="reference internal" href="how_to_snippets/dimensions_comp.html#accessing-and-creating-array-data">Accessing and creating <code class="docutils literal notranslate"><span class="pre">array</span></code> data</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="how_to_snippets/create_categorical_meta.html">Different ways of creating categorical values</a></li>
<li class="toctree-l3"><a class="reference internal" href="how_to_snippets/derotate.html">Derotation</a><ul>
<li class="toctree-l4"><a class="reference internal" href="how_to_snippets/derotate.html#what-is-derotation">What is derotation</a></li>
<li class="toctree-l4"><a class="reference internal" href="how_to_snippets/derotate.html#how-to-use-dataset-derotate">How to use <code class="docutils literal notranslate"><span class="pre">DataSet.derotate()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="how_to_snippets/derotate.html#what-about-arrays">What about <code class="docutils literal notranslate"><span class="pre">arrays</span></code>?</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../lib_doc/dataprocessing/00_overview.html">Data processing</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../lib_doc/dataprocessing/01_components.html">DataSet components</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../lib_doc/dataprocessing/01_components.html#case-and-meta-data">Case and meta data</a></li>
<li class="toctree-l3"><a class="reference internal" href="../lib_doc/dataprocessing/01_components.html#columns-and-masks-objects"><code class="docutils literal notranslate"><span class="pre">columns</span></code> and <code class="docutils literal notranslate"><span class="pre">masks</span></code> objects</a></li>
<li class="toctree-l3"><a class="reference internal" href="../lib_doc/dataprocessing/01_components.html#languages-text-and-text-key-mappings">Languages: <code class="docutils literal notranslate"><span class="pre">text</span></code> and <code class="docutils literal notranslate"><span class="pre">text_key</span></code> mappings</a></li>
<li class="toctree-l3"><a class="reference internal" href="../lib_doc/dataprocessing/01_components.html#categorical-values-object">Categorical <code class="docutils literal notranslate"><span class="pre">values</span></code> object</a></li>
<li class="toctree-l3"><a class="reference internal" href="../lib_doc/dataprocessing/01_components.html#the-array-type">The <code class="docutils literal notranslate"><span class="pre">array</span></code> type</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../lib_doc/dataprocessing/02_io.html">I/O</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../lib_doc/dataprocessing/02_io.html#starting-from-native-components">Starting from native components</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../lib_doc/dataprocessing/02_io.html#using-a-standalone-pd-dataframe">Using a standalone <code class="docutils literal notranslate"><span class="pre">pd.DataFrame</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../lib_doc/dataprocessing/02_io.html#csv-json-pairs"><code class="docutils literal notranslate"><span class="pre">.csv</span></code> / <code class="docutils literal notranslate"><span class="pre">.json</span></code> pairs</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../lib_doc/dataprocessing/02_io.html#third-party-conversions">Third party conversions</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../lib_doc/dataprocessing/02_io.html#supported-conversions">Supported conversions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../lib_doc/dataprocessing/02_io.html#spss-statistics">SPSS Statistics</a></li>
<li class="toctree-l4"><a class="reference internal" href="../lib_doc/dataprocessing/02_io.html#dimensions">Dimensions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../lib_doc/dataprocessing/02_io.html#decipher">Decipher</a></li>
<li class="toctree-l4"><a class="reference internal" href="../lib_doc/dataprocessing/02_io.html#ascribe">Ascribe</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../lib_doc/dataprocessing/02a_management.html">DataSet management</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../lib_doc/dataprocessing/02a_management.html#setting-the-variable-order">Setting the variable order</a></li>
<li class="toctree-l3"><a class="reference internal" href="../lib_doc/dataprocessing/02a_management.html#cloning-filtering-and-subsetting">Cloning, filtering and subsetting</a></li>
<li class="toctree-l3"><a class="reference internal" href="../lib_doc/dataprocessing/02a_management.html#merging">Merging</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../lib_doc/dataprocessing/02a_management.html#vertical-cases-rows-merging">Vertical (cases/rows) merging</a></li>
<li class="toctree-l4"><a class="reference internal" href="../lib_doc/dataprocessing/02a_management.html#horizontal-variables-columns-merging">Horizontal (variables/columns) merging</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../lib_doc/dataprocessing/02a_management.html#savepoints-and-state-rollback">Savepoints and state rollback</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../lib_doc/dataprocessing/03_inspection.html">Inspecting variables</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../lib_doc/dataprocessing/03_inspection.html#querying-and-slicing-case-data">Querying and slicing case data</a></li>
<li class="toctree-l3"><a class="reference internal" href="../lib_doc/dataprocessing/03_inspection.html#variable-and-value-existence">Variable and value existence</a></li>
<li class="toctree-l3"><a class="reference internal" href="../lib_doc/dataprocessing/03_inspection.html#variable-types">Variable types</a></li>
<li class="toctree-l3"><a class="reference internal" href="../lib_doc/dataprocessing/03_inspection.html#slicing-dicing-metadata-objects">Slicing &amp; dicing  metadata objects</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../lib_doc/dataprocessing/04_editing.html">Editing metadata</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../lib_doc/dataprocessing/04_editing.html#creating-meta-from-scratch">Creating meta from scratch</a></li>
<li class="toctree-l3"><a class="reference internal" href="../lib_doc/dataprocessing/04_editing.html#renaming">Renaming</a></li>
<li class="toctree-l3"><a class="reference internal" href="../lib_doc/dataprocessing/04_editing.html#changing-adding-text-info">Changing &amp; adding <code class="docutils literal notranslate"><span class="pre">text</span></code> info</a></li>
<li class="toctree-l3"><a class="reference internal" href="../lib_doc/dataprocessing/04_editing.html#extending-the-values-object">Extending the <code class="docutils literal notranslate"><span class="pre">values</span></code> object</a></li>
<li class="toctree-l3"><a class="reference internal" href="../lib_doc/dataprocessing/04_editing.html#reordering-the-values-object">Reordering the <code class="docutils literal notranslate"><span class="pre">values</span></code> object</a></li>
<li class="toctree-l3"><a class="reference internal" href="../lib_doc/dataprocessing/04_editing.html#removing-dataset-objects">Removing <code class="docutils literal notranslate"><span class="pre">DataSet</span></code> objects</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../lib_doc/dataprocessing/05_transforming.html">Transforming variables</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../lib_doc/dataprocessing/05_transforming.html#copying">Copying</a></li>
<li class="toctree-l3"><a class="reference internal" href="../lib_doc/dataprocessing/05_transforming.html#inplace-type-conversion">Inplace type conversion</a></li>
<li class="toctree-l3"><a class="reference internal" href="../lib_doc/dataprocessing/05_transforming.html#banding-and-categorization">Banding and categorization</a></li>
<li class="toctree-l3"><a class="reference internal" href="../lib_doc/dataprocessing/05_transforming.html#array-transformations">Array transformations</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../lib_doc/dataprocessing/06_logics.html">Logic and set operaters</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../lib_doc/dataprocessing/06_logics.html#ranges">Ranges</a></li>
<li class="toctree-l3"><a class="reference internal" href="../lib_doc/dataprocessing/06_logics.html#complex-logic">Complex logic</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../lib_doc/dataprocessing/06_logics.html#union"><code class="docutils literal notranslate"><span class="pre">union</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../lib_doc/dataprocessing/06_logics.html#intersection"><code class="docutils literal notranslate"><span class="pre">intersection</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../lib_doc/dataprocessing/06_logics.html#list-logic">“List” logic</a></li>
<li class="toctree-l4"><a class="reference internal" href="../lib_doc/dataprocessing/06_logics.html#has-any"><code class="docutils literal notranslate"><span class="pre">has_any</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../lib_doc/dataprocessing/06_logics.html#not-any"><code class="docutils literal notranslate"><span class="pre">not_any</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../lib_doc/dataprocessing/06_logics.html#has-all"><code class="docutils literal notranslate"><span class="pre">has_all</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../lib_doc/dataprocessing/06_logics.html#not-all"><code class="docutils literal notranslate"><span class="pre">not_all</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../lib_doc/dataprocessing/06_logics.html#has-count"><code class="docutils literal notranslate"><span class="pre">has_count</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../lib_doc/dataprocessing/06_logics.html#not-count"><code class="docutils literal notranslate"><span class="pre">not_count</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../lib_doc/dataprocessing/06_logics.html#boolean-slicers-and-code-existence">Boolean slicers and code existence</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../lib_doc/dataprocessing/07_custom_recoding.html">Custom data recoding</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../lib_doc/dataprocessing/07_custom_recoding.html#the-recode-method-in-detail">The <code class="docutils literal notranslate"><span class="pre">recode()</span></code> method in detail</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../lib_doc/dataprocessing/07_custom_recoding.html#target"><code class="docutils literal notranslate"><span class="pre">target</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../lib_doc/dataprocessing/07_custom_recoding.html#mapper"><code class="docutils literal notranslate"><span class="pre">mapper</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../lib_doc/dataprocessing/07_custom_recoding.html#default"><code class="docutils literal notranslate"><span class="pre">default</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../lib_doc/dataprocessing/07_custom_recoding.html#append"><code class="docutils literal notranslate"><span class="pre">append</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../lib_doc/dataprocessing/07_custom_recoding.html#intersect"><code class="docutils literal notranslate"><span class="pre">intersect</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../lib_doc/dataprocessing/07_custom_recoding.html#initialize"><code class="docutils literal notranslate"><span class="pre">initialize</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../lib_doc/dataprocessing/07_custom_recoding.html#fillna"><code class="docutils literal notranslate"><span class="pre">fillna</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../lib_doc/dataprocessing/07_custom_recoding.html#custom-recode-examples">Custom recode examples</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../lib_doc/dataprocessing/07_custom_recoding.html#building-a-net-code">Building a net code</a></li>
<li class="toctree-l4"><a class="reference internal" href="../lib_doc/dataprocessing/07_custom_recoding.html#create-and-fill">Create-and-fill</a></li>
<li class="toctree-l4"><a class="reference internal" href="../lib_doc/dataprocessing/07_custom_recoding.html#numerical-banding">Numerical banding</a></li>
<li class="toctree-l4"><a class="reference internal" href="../lib_doc/dataprocessing/07_custom_recoding.html#complicated-segmentation">Complicated segmentation</a></li>
<li class="toctree-l4"><a class="reference internal" href="../lib_doc/dataprocessing/07_custom_recoding.html#variable-creation">Variable creation</a></li>
<li class="toctree-l4"><a class="reference internal" href="../lib_doc/dataprocessing/07_custom_recoding.html#adding-derived-variables">Adding derived variables</a></li>
<li class="toctree-l4"><a class="reference internal" href="../lib_doc/dataprocessing/07_custom_recoding.html#interlocking-variables">Interlocking variables</a></li>
<li class="toctree-l4"><a class="reference internal" href="../lib_doc/dataprocessing/07_custom_recoding.html#condition-based-code-removal">Condition-based code removal</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../lib_doc/weights/00_overview.html">Weights</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../lib_doc/weights/01_background.html">Background and methodology</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../lib_doc/weights/01_background.html#the-statistical-problem">The statistical problem</a></li>
<li class="toctree-l3"><a class="reference internal" href="../lib_doc/weights/01_background.html#rim-weighting-concept">Rim weighting concept</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../lib_doc/weights/02_rim.html">Weight scheme setup</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../lib_doc/weights/02_rim.html#using-the-rim-class">Using the <code class="docutils literal notranslate"><span class="pre">Rim</span></code> class</a></li>
<li class="toctree-l3"><a class="reference internal" href="../lib_doc/weights/02_rim.html#target-distributions">Target distributions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../lib_doc/weights/02_rim.html#weight-groups-and-filters">Weight groups and filters</a></li>
<li class="toctree-l3"><a class="reference internal" href="../lib_doc/weights/02_rim.html#setting-group-targets">Setting group targets</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../lib_doc/weights/02_rim.html#integration-within-dataset">Integration within <code class="docutils literal notranslate"><span class="pre">DataSet</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="../lib_doc/weights/02_rim.html#weighting-and-weighted-aggregations">Weighting and weighted aggregations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../lib_doc/weights/02_rim.html#the-isolated-weight-dataframe">The isolated weight dataframe</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../lib_doc/weights/03_diags.html">Diagnostics</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../lib_doc/weights/03_diags.html#the-weighting-efficiency">The weighting efficiency</a></li>
<li class="toctree-l3"><a class="reference internal" href="../lib_doc/weights/03_diags.html#gotchas">Gotchas</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../lib_doc/batch/00_overview.html"><code class="docutils literal notranslate"><span class="pre">Batch</span></code></a><ul>
<li class="toctree-l2"><a class="reference internal" href="../lib_doc/batch/01_create_load.html">Creating/ Loading a <code class="docutils literal notranslate"><span class="pre">qp.Batch</span></code> instance</a></li>
<li class="toctree-l2"><a class="reference internal" href="../lib_doc/batch/02_variables.html">Adding variables to a <code class="docutils literal notranslate"><span class="pre">qp.Batch</span></code> instance</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../lib_doc/batch/02_variables.html#x-keys-and-y-keys">x-keys and y-keys</a></li>
<li class="toctree-l3"><a class="reference internal" href="../lib_doc/batch/02_variables.html#arrays">Arrays</a></li>
<li class="toctree-l3"><a class="reference internal" href="../lib_doc/batch/02_variables.html#verbatims-open-ends">Verbatims/ open ends</a></li>
<li class="toctree-l3"><a class="reference internal" href="../lib_doc/batch/02_variables.html#special-aggregations">Special aggregations</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../lib_doc/batch/03_properties.html">Set properties of a <code class="docutils literal notranslate"><span class="pre">qp.Batch</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="../lib_doc/batch/03_properties.html#filter-weights-and-significance-testing">Filter, weights and significance testing</a></li>
<li class="toctree-l3"><a class="reference internal" href="../lib_doc/batch/03_properties.html#cell-items-and-language">Cell items and language</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../lib_doc/batch/04_subclass.html">Inherited <code class="docutils literal notranslate"><span class="pre">qp.DataSet</span></code> methods</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../lib_doc/engine/00_overview.html">Analysis &amp; aggregation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../lib_doc/engine/01_links_stacks.html">Collecting aggregations</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../lib_doc/engine/01_links_stacks.html#what-is-a-qp-link">What is a <code class="docutils literal notranslate"><span class="pre">qp.Link?</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../lib_doc/engine/01_links_stacks.html#populating-a-qp-stack">Populating a <code class="docutils literal notranslate"><span class="pre">qp.Stack</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../lib_doc/engine/02_quantity.html">The computational engine</a></li>
<li class="toctree-l2"><a class="reference internal" href="../lib_doc/engine/03_test.html">Significance testing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../lib_doc/engine/04_agg_methods.html">View aggregation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../lib_doc/engine/04_agg_methods.html#basic-views">Basic views</a></li>
<li class="toctree-l3"><a class="reference internal" href="../lib_doc/engine/04_agg_methods.html#non-categorical-variables">Non-categorical variables</a></li>
<li class="toctree-l3"><a class="reference internal" href="../lib_doc/engine/04_agg_methods.html#descriptive-statistics">Descriptive statistics</a></li>
<li class="toctree-l3"><a class="reference internal" href="../lib_doc/engine/04_agg_methods.html#nets">Nets</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../lib_doc/engine/04_agg_methods.html#net-definitions">Net definitions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../lib_doc/engine/04_agg_methods.html#calculations">Calculations</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../lib_doc/engine/04_agg_methods.html#cumulative-sums">Cumulative sums</a></li>
<li class="toctree-l3"><a class="reference internal" href="../lib_doc/engine/04_agg_methods.html#significance-tests">Significance tests</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../lib_doc/builds/00_overview.html">Builds</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../lib_doc/builds/01_chains.html">Combining results</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../lib_doc/builds/01_chains.html#organizing-view-aggregations">Organizing <code class="docutils literal notranslate"><span class="pre">View</span></code> aggregations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../lib_doc/builds/01_chains.html#creating-chain-aggregations">Creating <code class="docutils literal notranslate"><span class="pre">Chain</span></code> aggregations</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../lib_doc/builds/02_cm_edits.html">Deriving post aggregation results</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../lib_doc/builds/02_cm_edits.html#summarizing-and-reducing-results">Summarizing and reducing results</a></li>
<li class="toctree-l3"><a class="reference internal" href="../lib_doc/builds/02_cm_edits.html#custom-calculations">Custom calculations</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../api_ref/00overview.html">API references</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../api_ref/Chain.html">Chain</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api_ref/Cluster.html">Cluster</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api_ref/DataSet.html">DataSet</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api_ref/quantify_engine.html">quantify.engine</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api_ref/QuantipyViews.html">QuantipyViews</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api_ref/Rim_scheme.html">Rim</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api_ref/stack.html">Stack</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api_ref/View.html">View</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api_ref/ViewMapper.html">ViewMapper</a></li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../../index.html">Quantipy</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../index.html">Docs</a> &raquo;</li>
      
          <li><a href="00_overview.html">Release notes</a> &raquo;</li>
      
    <li>Archived release notes</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../../_sources/sites/release_notes/02_archive.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="toctree-wrapper compound">
</div>
<div class="section" id="archived-release-notes">
<h1>Archived release notes<a class="headerlink" href="#archived-release-notes" title="Permalink to this headline">¶</a></h1>
<div class="section" id="sd-14-01-2019">
<h2>sd (14/01/2019)<a class="headerlink" href="#sd-14-01-2019" title="Permalink to this headline">¶</a></h2>
<p><strong>New</strong>: <code class="docutils literal notranslate"><span class="pre">Chain.export()</span></code> / <code class="docutils literal notranslate"><span class="pre">assign()</span></code> and custom calculations</p>
<p>Expanding on the current <code class="docutils literal notranslate"><span class="pre">Chain</span></code> editing features provided via <code class="docutils literal notranslate"><span class="pre">cut()</span></code>
and <code class="docutils literal notranslate"><span class="pre">join()</span></code>, it is now possible to calculate additional row and column results using plain <code class="docutils literal notranslate"><span class="pre">pandas.dataframe</span></code> methods. Use <code class="docutils literal notranslate"><span class="pre">Chain.export()</span></code> to work on a simplified <code class="docutils literal notranslate"><span class="pre">Chain.dataframe</span></code> and <code class="docutils literal notranslate"><span class="pre">assign()</span></code> to rebuild it properly when finished.</p>
<p><strong>New</strong>: <code class="docutils literal notranslate"><span class="pre">Batch.as_main(keep=True)</span></code> to change <code class="docutils literal notranslate"><span class="pre">qp.Batch</span></code> relations</p>
<p>It is now possible to promote an <code class="docutils literal notranslate"><span class="pre">.additional</span></code> Batch to a main/regular one. Optionally, the original parent Batch can be erased by setting <code class="docutils literal notranslate"><span class="pre">keep=False</span></code>. Example:</p>
<p><em>Starting from:</em></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">dataset</span><span class="o">.</span><span class="n">batches</span><span class="p">(</span><span class="n">main</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">add</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="go">[&#39;batch 2&#39;, &#39;batch 5&#39;]</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">dataset</span><span class="o">.</span><span class="n">batches</span><span class="p">(</span><span class="n">main</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">add</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="go">[&#39;batch 4&#39;, &#39;batch 3&#39;, &#39;batch 1&#39;]</span>
</pre></div>
</div>
<p><em>We turn</em> <code class="docutils literal notranslate"><span class="pre">batch</span> <span class="pre">3</span></code> <em>into a normal one:</em></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">b</span> <span class="o">=</span> <span class="n">dataset</span><span class="o">.</span><span class="n">get_batch</span><span class="p">(</span><span class="s1">&#39;batch 3&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span><span class="o">.</span><span class="n">as_main</span><span class="p">()</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">dataset</span><span class="o">.</span><span class="n">batches</span><span class="p">(</span><span class="n">main</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">add</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="go">[&#39;batch 2&#39;, &#39;batch 5&#39;, &#39;batch 3&#39;]</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">dataset</span><span class="o">.</span><span class="n">batches</span><span class="p">(</span><span class="n">main</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">add</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="go">[&#39;batch 4&#39;, &#39;batch 1&#39;]</span>
</pre></div>
</div>
<p><strong>New</strong>: On-the-fly rebasing via <code class="docutils literal notranslate"><span class="pre">Quantity.normalize(on='y',</span> <span class="pre">per_cell=False)</span></code></p>
<p>Quantipy’s engine will now accept another variable’s base for (column) percentage
computations. Furthermore, it is possible to rebase the percentages to the <em>cell
frequencies of the other variable’s cross-tabulation</em> by setting <code class="docutils literal notranslate"><span class="pre">per_cell=True</span></code>,
i.e. rebase variables with identical categories to their respective per-category results. The following example shows how <code class="docutils literal notranslate"><span class="pre">'A1'</span></code> results are serving as cell bases
for the percentages of <code class="docutils literal notranslate"><span class="pre">'A2'</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">l</span> <span class="o">=</span> <span class="n">stack</span><span class="p">[</span><span class="n">stack</span><span class="o">.</span><span class="n">keys</span><span class="p">()[</span><span class="mi">0</span><span class="p">]][</span><span class="s1">&#39;no_filter&#39;</span><span class="p">][</span><span class="s1">&#39;A1&#39;</span><span class="p">][</span><span class="s1">&#39;datasource&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">q</span> <span class="o">=</span> <span class="n">qp</span><span class="o">.</span><span class="n">Quantity</span><span class="p">(</span><span class="n">l</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">q</span><span class="o">.</span><span class="n">count</span><span class="p">()</span>
<span class="go">Question        datasource</span>
<span class="go">Values                 All      1       2       3      4       5       6</span>
<span class="go">Question Values</span>
<span class="go">A1       All        6984.0  767.0  1238.0  2126.0  836.0  1012.0  1005.0</span>
<span class="go">         1          1141.0  503.0    78.0   109.0  102.0   155.0   194.0</span>
<span class="go">         2          2716.0  615.0   406.0   499.0  499.0   394.0   303.0</span>
<span class="go">         3          1732.0  603.0    89.0   128.0  101.0   404.0   407.0</span>
<span class="go">         4          5391.0  644.0   798.0  1681.0  655.0   796.0   817.0</span>
<span class="go">         5          4408.0  593.0   177.0  1649.0  321.0   818.0   850.0</span>
<span class="go">         6          3584.0  615.0   834.0   834.0  327.0   507.0   467.0</span>
<span class="go">         7          4250.0  588.0   724.0  1717.0  540.0    55.0   626.0</span>
<span class="go">         8          3729.0  413.0  1014.0   788.0  311.0   539.0   664.0</span>
<span class="go">         9          3575.0  496.0   975.0   270.0  699.0   230.0   905.0</span>
<span class="go">         10         4074.0  582.0   910.0  1148.0  298.0   861.0   275.0</span>
<span class="go">         11         2200.0  446.0   749.0   431.0  177.0   146.0   251.0</span>
<span class="go">         12         5554.0  612.0   987.0  1653.0  551.0   860.0   891.0</span>
<span class="go">         13          544.0   40.0   107.0   232.0   87.0    52.0    26.0</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">l</span> <span class="o">=</span> <span class="n">stack</span><span class="p">[</span><span class="n">stack</span><span class="o">.</span><span class="n">keys</span><span class="p">()[</span><span class="mi">0</span><span class="p">]][</span><span class="s1">&#39;no_filter&#39;</span><span class="p">][</span><span class="s1">&#39;A2&#39;</span><span class="p">][</span><span class="s1">&#39;datasource&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">q</span> <span class="o">=</span> <span class="n">qp</span><span class="o">.</span><span class="n">Quantity</span><span class="p">(</span><span class="n">l</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">q</span><span class="o">.</span><span class="n">count</span><span class="p">()</span>
<span class="go">Question        datasource</span>
<span class="go">Values                 All      1       2       3      4      5      6</span>
<span class="go">Question Values</span>
<span class="go">A2       All        6440.0  727.0  1131.0  1894.0  749.0  960.0  979.0</span>
<span class="go">         1           568.0  306.0    34.0    32.0   48.0   63.0   85.0</span>
<span class="go">         2          1135.0  417.0   107.0    88.0  213.0  175.0  135.0</span>
<span class="go">         3           975.0  426.0    43.0    49.0   49.0  220.0  188.0</span>
<span class="go">         4          2473.0  350.0   267.0   599.0  431.0  404.0  422.0</span>
<span class="go">         5          2013.0  299.0    88.0   573.0  162.0  417.0  474.0</span>
<span class="go">         6          1174.0  342.0   219.0   183.0  127.0  135.0  168.0</span>
<span class="go">         7          1841.0  355.0   161.0   754.0  285.0   21.0  265.0</span>
<span class="go">         8          1740.0  265.0   376.0   327.0  160.0  212.0  400.0</span>
<span class="go">         9          1584.0  181.0   390.0    89.0  398.0   94.0  432.0</span>
<span class="go">         10         1655.0  257.0   356.0   340.0  137.0  443.0  122.0</span>
<span class="go">         11          766.0  201.0   241.0   101.0   76.0   53.0   94.0</span>
<span class="go">         12         2438.0  217.0   528.0   497.0  247.0  459.0  490.0</span>
<span class="go">         13         1532.0   72.0   286.0   685.0  118.0  183.0  188.0</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">q</span><span class="o">.</span><span class="n">normalize</span><span class="p">(</span><span class="n">on</span><span class="o">=</span><span class="s1">&#39;A1&#39;</span><span class="p">,</span> <span class="n">per_cell</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="go">Question         datasource</span>
<span class="go">Values                  All           1           2           3           4           5           6</span>
<span class="go">Question Values</span>
<span class="go">A2       All      92.210767   94.784876   91.357027   89.087488   89.593301   94.861660   97.412935</span>
<span class="go">         1        49.780894   60.834990   43.589744   29.357798   47.058824   40.645161   43.814433</span>
<span class="go">         2        41.789396   67.804878   26.354680   17.635271   42.685371   44.416244   44.554455</span>
<span class="go">         3        56.293303   70.646766   48.314607   38.281250   48.514851   54.455446   46.191646</span>
<span class="go">         4        45.872751   54.347826   33.458647   35.633551   65.801527   50.753769   51.652387</span>
<span class="go">         5        45.666969   50.421585   49.717514   34.748332   50.467290   50.977995   55.764706</span>
<span class="go">         6        32.756696   55.609756   26.258993   21.942446   38.837920   26.627219   35.974304</span>
<span class="go">         7        43.317647   60.374150   22.237569   43.913803   52.777778   38.181818   42.332268</span>
<span class="go">         8        46.661303   64.164649   37.080868   41.497462   51.446945   39.332096   60.240964</span>
<span class="go">         9        44.307692   36.491935   40.000000   32.962963   56.938484   40.869565   47.734807</span>
<span class="go">         10       40.623466   44.158076   39.120879   29.616725   45.973154   51.451800   44.363636</span>
<span class="go">         11       34.818182   45.067265   32.176235   23.433875   42.937853   36.301370   37.450199</span>
<span class="go">         12       43.896291   35.457516   53.495441   30.066546   44.827586   53.372093   54.994388</span>
<span class="go">         13      281.617647  180.000000  267.289720  295.258621  135.632184  351.923077  723.076923</span>
</pre></div>
</div>
<p><strong>New</strong>: <code class="docutils literal notranslate"><span class="pre">DataSet.missings(name=None)</span></code></p>
<p>This new method returns the missing data definition for the provided variable or
all missing definitions found in the dataset (if <code class="docutils literal notranslate"><span class="pre">name</span></code> is omitted).</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">dataset</span><span class="o">.</span><span class="n">missings</span><span class="p">()</span>
<span class="go">{u&#39;q10&#39;: {u&#39;exclude&#39;: [6]},</span>
<span class="go"> u&#39;q11&#39;: {u&#39;exclude&#39;: [977]},</span>
<span class="go"> u&#39;q17&#39;: {u&#39;exclude&#39;: [977]},</span>
<span class="go"> u&#39;q23_1_new&#39;: {u&#39;exclude&#39;: [8]},</span>
<span class="go"> u&#39;q25&#39;: {u&#39;exclude&#39;: [977]},</span>
<span class="go"> u&#39;q32&#39;: {u&#39;exclude&#39;: [977]},</span>
<span class="go"> u&#39;q38&#39;: {u&#39;exclude&#39;: [977]},</span>
<span class="go"> u&#39;q39&#39;: {u&#39;exclude&#39;: [977]},</span>
<span class="go"> u&#39;q48&#39;: {u&#39;exclude&#39;: [977]},</span>
<span class="go"> u&#39;q5&#39;: {u&#39;exclude&#39;: [977]},</span>
<span class="go"> u&#39;q9&#39;: {u&#39;exclude&#39;: [977]}}</span>
</pre></div>
</div>
<p><strong>Update</strong>: <code class="docutils literal notranslate"><span class="pre">DataSet.batches(main=True,</span> <span class="pre">add=False)</span></code></p>
<p>The collection of <code class="docutils literal notranslate"><span class="pre">Batch</span></code> sets can be separated by <code class="docutils literal notranslate"><span class="pre">main</span></code> and <code class="docutils literal notranslate"><span class="pre">add</span></code>itional
ones (see above) to make analyzing Batch setups and relations easier. The default is still to return all Batch names.</p>
<p><strong>Bugfix</strong>: Stack, <code class="docutils literal notranslate"><span class="pre">other_source</span></code> statistics failing for delimited sets</p>
<p>A bug that prevented <code class="docutils literal notranslate"><span class="pre">other_source</span></code> statistics being computed on delimited set type variables has been resolved by adjusting the underlying data type checking mechanic.</p>
</div>
<div class="section" id="sd-26-10-2018">
<h2>sd (26/10/2018)<a class="headerlink" href="#sd-26-10-2018" title="Permalink to this headline">¶</a></h2>
<p><strong>New</strong>: Filter variables in DataSet and Batch</p>
<p>To avoid complex logics stored in the background and resulting problem with
json serializing, the filter concept in DataSet and Batch has changed.</p>
<p>Now actual variables are added to the data and meta, which have the property
<code class="docutils literal notranslate"><span class="pre">recoded_filter</span></code>. The values of depend on the included logic, and all logics
summarized in the value <code class="docutils literal notranslate"><span class="pre">0:</span> <span class="pre">keep</span></code>. Because of the an easy logic can be used
at several places in qp: <code class="docutils literal notranslate"><span class="pre">{'filter_var':</span> <span class="pre">0}</span></code></p>
<p><em>DataSet methods</em></p>
<p>All included filters of a Dataset can be shown running <code class="docutils literal notranslate"><span class="pre">dataset.filters()</span></code>.</p>
<p>A filter variable can be easily created:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">dataset</span><span class="o">.</span><span class="n">add_filter_var</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">logic</span><span class="p">,</span> <span class="n">overwrite</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
<ul>
<li><p class="first"><code class="docutils literal notranslate"><span class="pre">name</span></code> is the name of the new filter-variable.</p>
</li>
<li><p class="first"><code class="docutils literal notranslate"><span class="pre">logic</span></code> should be (a list of) dictionaries in form of:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="p">{</span>
<span class="gp">... </span>    <span class="s1">&#39;label&#39;</span><span class="p">:</span> <span class="s1">&#39;reason&#39;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="s1">&#39;logic&#39;</span><span class="p">:</span> <span class="p">{</span><span class="n">var</span><span class="p">:</span> <span class="n">keys</span><span class="p">}</span> <span class="o">/</span> <span class="n">intersection</span><span class="o">/</span> <span class="o">....</span>
<span class="gp">... </span><span class="p">}</span>
</pre></div>
</div>
<p>or stings (var_name), which are automatically transformed into the following dict</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="p">{</span>
<span class="gp">... </span>    <span class="s1">&#39;label&#39;</span><span class="p">:</span> <span class="s1">&#39;var_name not empty&#39;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="s1">&#39;logic&#39;</span><span class="p">:</span> <span class="p">{</span><span class="n">var_name</span><span class="p">:</span> <span class="n">not_count</span><span class="p">(</span><span class="mi">0</span><span class="p">)}</span>
<span class="gp">... </span><span class="p">}</span>
</pre></div>
</div>
<p>If a list is provided, each item results in an own value of the filter
variable.</p>
</li>
</ul>
<p>An existing filter variable can also be extended:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">dataset</span><span class="o">.</span><span class="n">extend_filter_var</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">logic</span><span class="p">,</span> <span class="n">extend_as</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
</pre></div>
</div>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">name</span></code> is the name of the existing filter-variable.</li>
<li><code class="docutils literal notranslate"><span class="pre">logic</span></code> should be the same as above, then additional categories are added
to the filter and the 0 value is recalculated.</li>
<li><code class="docutils literal notranslate"><span class="pre">extend_as</span></code> determines if a new filter var is created or the initial
variable is modified.
If <code class="docutils literal notranslate"><span class="pre">extend_as=None</span></code> the variable is modified inplace. Otherwise
<code class="docutils literal notranslate"><span class="pre">extend_as</span></code> is used as suffix for the new filter variable.</li>
</ul>
<p>Known methods like:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="o">.</span><span class="n">drop</span><span class="p">()</span>
<span class="o">.</span><span class="n">rename</span><span class="p">()</span>
</pre></div>
</div>
<p>can be applied on filter-variables, all others are not valid!</p>
<p><em>Batch methods</em></p>
<p><code class="docutils literal notranslate"><span class="pre">Batch.add_filter(filter_name,</span> <span class="pre">filter_logic=None,</span> <span class="pre">overwrite=False)</span></code></p>
<p>A filter can still be added to a batch, by adding a <code class="docutils literal notranslate"><span class="pre">filter_logic</span></code>, but also
it’s possible to add only the <code class="docutils literal notranslate"><span class="pre">filter_name</span></code> of an existing filter variable.
If <code class="docutils literal notranslate"><span class="pre">filter_name</span></code> is an existing filter-variable, a <code class="docutils literal notranslate"><span class="pre">filter_logic</span></code> is provided
and <code class="docutils literal notranslate"><span class="pre">overwrite</span></code> is turned off, the scripts will return an error.</p>
<p><code class="docutils literal notranslate"><span class="pre">Batch.remove_filter()</span></code></p>
<p>This method only removes filters from the Batch definitions, the created
filter-variables still exist in the belonging DataSet object.</p>
<p>Batch methods that use filters:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">.</span><span class="n">extend_filter</span><span class="p">()</span>
<span class="o">.</span><span class="n">add_y_on_y</span><span class="p">()</span>
<span class="o">.</span><span class="n">add_open_ends</span><span class="p">()</span>
</pre></div>
</div>
<p>create new extended filter variables if the used filter differs from the
batch global filter. So it’s recommended to add the global filter first, it’s
taken over automatically for the mentioned methods.</p>
<hr class="docutils" />
<p><strong>New</strong>: Summarizing and rearranging  <code class="docutils literal notranslate"><span class="pre">qp.Chain</span></code> elements via <code class="docutils literal notranslate"><span class="pre">ChainManager</span></code></p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">cut(values,</span> <span class="pre">ci=None,</span> <span class="pre">base=False,</span> <span class="pre">tests=False)</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">join(title='Summary')</span></code></li>
</ul>
<p>It is now possible to summarize <code class="docutils literal notranslate"><span class="pre">View</span></code> aggregation results from existing <code class="docutils literal notranslate"><span class="pre">Chain</span></code>
items  by restructuring and editing them via their <code class="docutils literal notranslate"><span class="pre">ChainManager</span></code> methods. The
general idea behind building a summary <code class="docutils literal notranslate"><span class="pre">Chain</span></code> is to unify a set of results into
items  by restructuring and editing them via their <code class="docutils literal notranslate"><span class="pre">ChainManager</span></code> methods. The
general idea behind building a summary Chain is to unify a set of results into
one cohesive representation to offer an easy way to look at certain key figures
of interest in comparison to each other. To achieve this, the <code class="docutils literal notranslate"><span class="pre">ChainManager</span></code> class
has gained the new <code class="docutils literal notranslate"><span class="pre">cut()</span></code> and <code class="docutils literal notranslate"><span class="pre">join()</span></code> methods. Summaries are built post-
aggregation and therefore rely on what has been defined (via the <code class="docutils literal notranslate"><span class="pre">qp.Batch</span></code>
class) and computed (via the <code class="docutils literal notranslate"><span class="pre">qp.Stack</span></code> methods) at previous stages.</p>
<p>The intended way of working with this new feature can be outlined as</p>
<blockquote>
<div><ol class="arabic simple">
<li><code class="docutils literal notranslate"><span class="pre">reorder()</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">cut()</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">join()</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">insert()</span></code></li>
</ol>
</div></blockquote>
<p>In more detail:</p>
<p><em>A) Grouping the results for the summary</em></p>
<p>Both methods will operate on the <em>entire set</em> of <code class="docutils literal notranslate"><span class="pre">Chains</span></code> collected in a
<code class="docutils literal notranslate"><span class="pre">ChainManager</span></code>, so building a summary <code class="docutils literal notranslate"><span class="pre">Chain</span></code> will normally start with
restricting a copy of an existing <code class="docutils literal notranslate"><span class="pre">ChainManager</span></code> to the question variables
that you’re interested in. This can be done via <code class="docutils literal notranslate"><span class="pre">clone()</span></code> with
<code class="docutils literal notranslate"><span class="pre">reorder(...,</span> <span class="pre">inplace=True)</span></code> or by assigning back the new instance from
<code class="docutils literal notranslate"><span class="pre">reorder(...,</span> <span class="pre">inplace=False)</span></code>.</p>
<p><em>B) Selecting View results via</em> <code class="docutils literal notranslate"><span class="pre">cut()</span></code></p>
<p>This method lets you target the kind of results (nets, means, NPS scores,
only the frequencies, etc.) from a given <code class="docutils literal notranslate"><span class="pre">qp.Chain.dataframe</span></code>. Elements must
be targeted by their underlying regular index values, e.g. <code class="docutils literal notranslate"><span class="pre">'net_1'</span></code>, <code class="docutils literal notranslate"><span class="pre">'net_2'</span></code>,
<code class="docutils literal notranslate"><span class="pre">'mean'</span></code>, <code class="docutils literal notranslate"><span class="pre">1</span></code>, <code class="docutils literal notranslate"><span class="pre">'calc'</span></code>, … . Use the <code class="docutils literal notranslate"><span class="pre">base</span></code> and <code class="docutils literal notranslate"><span class="pre">tests</span></code> parameters
to also carry over the matching base rows and/or significance testing results.
The <code class="docutils literal notranslate"><span class="pre">ci</span></code> parameter additionally allows targeting only the <code class="docutils literal notranslate"><span class="pre">'counts'</span></code> or
<code class="docutils literal notranslate"><span class="pre">'c%'</span></code> results if cell items are grouped together.</p>
<p><em>C) Unifying the individual results with</em> <code class="docutils literal notranslate"><span class="pre">join()</span></code></p>
<p>Merging all new results into one, the <code class="docutils literal notranslate"><span class="pre">join()</span></code> method concatenates vertically
and relabels the x-axis to separate all variable results by their matching
metadata <code class="docutils literal notranslate"><span class="pre">text</span></code> that has also been applied while creating the regular set of
and relabels the x-axis to separate all variable results by their matching
metadata <code class="docutils literal notranslate"><span class="pre">text</span></code> that has has also been applied while creating the regular set of
<code class="docutils literal notranslate"><span class="pre">Chain</span></code> items. The new summary can then also be inserted back into its
originating <code class="docutils literal notranslate"><span class="pre">ChainManager</span></code> with <code class="docutils literal notranslate"><span class="pre">insert()</span></code> if desired.</p>
<hr class="docutils" />
<p><strong>Update</strong>: <code class="docutils literal notranslate"><span class="pre">Batch.add_variables(varlist)</span></code></p>
<p>A <code class="docutils literal notranslate"><span class="pre">qp.Batch</span></code> can now carry a collection of variables that is <strong>explicitly not</strong>
directed towards any table-like builds. Variables from <code class="docutils literal notranslate"><span class="pre">varlist</span></code> will solely
be used in non-aggregation based, data transformation and export oriented
applications. To make this distinction more visible in the API, <code class="docutils literal notranslate"><span class="pre">add_x()</span></code> and
<code class="docutils literal notranslate"><span class="pre">add_y()</span></code> have been renamed to <code class="docutils literal notranslate"><span class="pre">add_downbreak()</span></code> and <code class="docutils literal notranslate"><span class="pre">add_crossbreak()</span></code>.
Users are warned and advised to switch to the new method versions via a
<code class="docutils literal notranslate"><span class="pre">DeprecationWarning</span></code>. In a future version of the library <code class="docutils literal notranslate"><span class="pre">add_x()</span></code> and
<code class="docutils literal notranslate"><span class="pre">add_y()</span></code> will be removed.</p>
<hr class="docutils" />
<p><strong>Update</strong>: <code class="docutils literal notranslate"><span class="pre">Batch.copy()</span></code> -&gt; <code class="docutils literal notranslate"><span class="pre">Batch.clone()</span></code></p>
<p>Since <code class="docutils literal notranslate"><span class="pre">qp.Batch</span></code> is a subclass of <code class="docutils literal notranslate"><span class="pre">qp.DataSet</span></code>, the <code class="docutils literal notranslate"><span class="pre">copy()</span></code> method is renamed into
<code class="docutils literal notranslate"><span class="pre">Batch.clone()</span></code>.</p>
</div>
<div class="section" id="sd-01-10-2018">
<h2>sd (01/10/2018)<a class="headerlink" href="#sd-01-10-2018" title="Permalink to this headline">¶</a></h2>
<p><strong>New</strong>: “rewrite” of Rules module (affecting sorting):</p>
<p><strong>sorting “normal” columns</strong>:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">sort_on</span></code> always ‘&#64;’</li>
<li><code class="docutils literal notranslate"><span class="pre">fix</span></code> any categories</li>
<li><code class="docutils literal notranslate"><span class="pre">sort_by_weight</span></code> default is unweighted (None), but each weight (included</li>
</ul>
<p>in data) can be used</p>
<p>If sort_by_weight and the view-weight differ, a warning is shown.</p>
<p><strong>sorting “expanded net” columns</strong>:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">sort_on</span></code> always ‘&#64;’</li>
<li><code class="docutils literal notranslate"><span class="pre">fix</span></code> any categories</li>
<li>sorting <code class="docutils literal notranslate"><span class="pre">within</span></code> or <code class="docutils literal notranslate"><span class="pre">between</span></code> net groups is available</li>
<li><code class="docutils literal notranslate"><span class="pre">sort_by_weight</span></code>: as default the weight of the first found</li>
</ul>
<p>expanded-net-view is taken. Only weights of aggregated net-views are possible</p>
<p><strong>sorting “array summaries”</strong>:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">sort_on</span></code> can be any desc (‘median’, ‘stddev’, ‘sem’, ‘max’, ‘min’,</li>
</ul>
<p>‘mean’, ‘upper_q’, ‘lower_q’) or nets (‘net_1’, ‘net_2’, …. enumerated
by the net_def)
* <code class="docutils literal notranslate"><span class="pre">sort_by_weight</span></code>: as default the weight of the first found desc/net-view
is taken. Only weights of aggregated desc/net-views are possible
* <code class="docutils literal notranslate"><span class="pre">sort_on</span></code> can also be any category, here each weight can be used to sort_on</p>
<hr class="docutils" />
<p><strong>New</strong>: <code class="docutils literal notranslate"><span class="pre">DataSet.min_value_count()</span></code></p>
<p>A new wrapper for <code class="docutils literal notranslate"><span class="pre">DataSet.hiding()</span></code> is included. All values are hidden,
that have less counts than the included number <code class="docutils literal notranslate"><span class="pre">min</span></code>.
The used data can be weighted or filtered using the parameters <code class="docutils literal notranslate"><span class="pre">weight</span></code> and
<code class="docutils literal notranslate"><span class="pre">condition</span></code>.</p>
<p>Usage as Batch method:
<code class="docutils literal notranslate"><span class="pre">Batch.min_value_count()</span></code> without the parameters <code class="docutils literal notranslate"><span class="pre">weight</span></code> and
<code class="docutils literal notranslate"><span class="pre">condition</span></code> automatically grabs <code class="docutils literal notranslate"><span class="pre">Batch.weights[0]</span></code> and <code class="docutils literal notranslate"><span class="pre">Batch.filter</span></code>
to calculate low value counts.</p>
<hr class="docutils" />
<p><strong>New</strong>: Prevent weak duplicated in data</p>
<p>As Python is case sensitive it is possible to have two or more variables with
the same name, but in lower- and uppercases. Most other software do not support
that, so a warning is shown if a weak dupe is created. Additionally
<code class="docutils literal notranslate"><span class="pre">Dataset.write_dimensions()</span></code> performs auto-renaming is weak dupes are detected.</p>
<hr class="docutils" />
<p><strong>New</strong>: Prevent single-cat delimited sets</p>
<p><code class="docutils literal notranslate"><span class="pre">DataSet.add_meta(...,</span> <span class="pre">qtype='delimited</span> <span class="pre">set',</span> <span class="pre">categories=[...],</span> <span class="pre">...)</span></code>
automatically switches <code class="docutils literal notranslate"><span class="pre">qtype</span></code> to single if only one category is defined.
<code class="docutils literal notranslate"><span class="pre">DataSet.convert(name,</span> <span class="pre">'single')</span></code> allows conversion from <code class="docutils literal notranslate"><span class="pre">delimited</span> <span class="pre">set</span></code> to
<code class="docutils literal notranslate"><span class="pre">single</span></code> if the variable has only one category.
<code class="docutils literal notranslate"><span class="pre">DataSet.repair()</span></code> and <code class="docutils literal notranslate"><span class="pre">DataSt.remove_values()</span></code> convert delimited sets
automatically to singles if only one category is included.</p>
<hr class="docutils" />
<p><strong>Update</strong>: merge warnings + merging delimites sets</p>
<p>Warnings in <code class="docutils literal notranslate"><span class="pre">hmerge()</span></code> and <code class="docutils literal notranslate"><span class="pre">vmerge()</span></code> are updated. If a column exists in
the left and the right dataset, the type is compared. Some type inconsistencies
are allowed, but return a warning, while others end up in a raise.</p>
<p>delimited sets in <code class="docutils literal notranslate"><span class="pre">vmerge()</span></code>:</p>
<p>If a column is a delimited set in the left dataset, but a single, int or float
in the right dataset, the data of the right column is converted into a delimited
set.</p>
<p>delimited sets in <code class="docutils literal notranslate"><span class="pre">hmerge(...merge_existing=None)</span></code>:</p>
<p>For the hmerge a new parameter <code class="docutils literal notranslate"><span class="pre">merge_existing</span></code> is included, which can be
<code class="docutils literal notranslate"><span class="pre">None</span></code>, a list of variable-names or <code class="docutils literal notranslate"><span class="pre">'all'</span></code>.</p>
<p>If delimited sets are included in left and right dataset:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">merge_existing=None</span></code>: Only meta is adjusted. Data is untouched (left data</li>
</ul>
<p>is taken).
* <code class="docutils literal notranslate"><span class="pre">merge_existing='all'</span></code>: Meta and data are merged for all delimited sets,
that are included in both datasets.
* <code class="docutils literal notranslate"><span class="pre">merge_existing=[variable-names]</span></code>: Meta and data are merged for all
delimited sets, that are listed and included in both datasets.</p>
<hr class="docutils" />
<p><strong>Update</strong>: encoding in <code class="docutils literal notranslate"><span class="pre">DataSet.get_batch(name)</span></code></p>
<p>The method is not that encoding sensitive anymore. It returns the depending
<code class="docutils literal notranslate"><span class="pre">Batch</span></code>, no matter if <code class="docutils literal notranslate"><span class="pre">'...'</span></code>, <code class="docutils literal notranslate"><span class="pre">u'...'</span></code> or <code class="docutils literal notranslate"><span class="pre">'...'.decode('utf8')</span></code> is
included as name.</p>
<hr class="docutils" />
<p><strong>Update</strong>: warning in weight engine</p>
<p>Missing codes in the sample are only alerted, if the belonging target is not 0.</p>
<hr class="docutils" />
<p><strong>Update</strong>: <code class="docutils literal notranslate"><span class="pre">DataSet.to_array(...,</span> <span class="pre">variables,</span> <span class="pre">...)</span></code></p>
<p>Duplicated vars in <code class="docutils literal notranslate"><span class="pre">variables</span></code> are not allowed anymore, these were causing
problems in the ChainManager class.</p>
<hr class="docutils" />
<p><strong>Update</strong>: <code class="docutils literal notranslate"><span class="pre">Batch.add_open_ends()</span></code></p>
<p>Method raises an error if no vars are included in <code class="docutils literal notranslate"><span class="pre">oe</span></code> and <code class="docutils literal notranslate"><span class="pre">break_by</span></code>. The
empty dataframe was causing issues in the ChainManager class.</p>
<hr class="docutils" />
<p><strong>Update</strong>: <code class="docutils literal notranslate"><span class="pre">Batch.extend_x()</span></code></p>
<p>The method automatically checks if the included variables are arrays and adds
them to <code class="docutils literal notranslate"><span class="pre">Batch.summaries</span></code> if they are included yet.</p>
</div>
<div class="section" id="sd-04-06-2018">
<h2>sd (04/06/2018)<a class="headerlink" href="#sd-04-06-2018" title="Permalink to this headline">¶</a></h2>
<p><strong>New</strong>: Additional variable (names) “getter”-like and resolver methods</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">DataSet.created()</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">DataSet.find(str_tags=None,</span> <span class="pre">suffixed=False)</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">DataSet.names()</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">DataSet.resolve_name()</span></code></li>
</ul>
<p>A bunch of new methods enhancing the options of finding and testing for variable
names have been added. <code class="docutils literal notranslate"><span class="pre">created()</span></code> will list all variables that have been added
to a dataset using core functions, i.e. <code class="docutils literal notranslate"><span class="pre">add_meta()</span></code> and <code class="docutils literal notranslate"><span class="pre">derive()</span></code>, resp.
all helper methods that use them internally (as <code class="docutils literal notranslate"><span class="pre">band()</span></code> or <code class="docutils literal notranslate"><span class="pre">categorize()</span></code> do
for instance).</p>
<p>The <code class="docutils literal notranslate"><span class="pre">find()</span></code> method is returning all variable names that contain any of the
provided substrings in <code class="docutils literal notranslate"><span class="pre">str_tags</span></code>. To only consider names that end with these
strings, set <code class="docutils literal notranslate"><span class="pre">suffixed=True</span></code>. If no <code class="docutils literal notranslate"><span class="pre">str_tags</span></code> are passed, the method will
use a default list of tags including <code class="docutils literal notranslate"><span class="pre">['_rc',</span> <span class="pre">'_net',</span> <span class="pre">'</span> <span class="pre">(categories',</span> <span class="pre">'</span> <span class="pre">(NET',</span> <span class="pre">'_rec']</span></code>.</p>
<p>Sometimes a dataset might contain “semi-duplicated” names, variables that differ
in respect to case sensitivity but have otherwise identical names. Calling
<code class="docutils literal notranslate"><span class="pre">names()</span></code> will report such cases in a <code class="docutils literal notranslate"><span class="pre">pd.DataFrame</span></code> that lists all name
variants under the respective <code class="docutils literal notranslate"><span class="pre">str.lower()</span></code> version. If no semi-duplicates
are found, <code class="docutils literal notranslate"><span class="pre">names()</span></code> will simply return <code class="docutils literal notranslate"><span class="pre">DataSet.variables()</span></code>.</p>
<p>Lastly, <code class="docutils literal notranslate"><span class="pre">resolve_name()</span></code> can be used to return the “proper”, existing representation(s) of a given variable name’s spelling.</p>
<hr class="docutils" />
<p><strong>New</strong>: <code class="docutils literal notranslate"><span class="pre">Batch.remove()</span></code></p>
<p>Not needed batches can be removed from <code class="docutils literal notranslate"><span class="pre">meta</span></code>, so they are not aggregated
anymore.</p>
<hr class="docutils" />
<p><strong>New</strong>: <code class="docutils literal notranslate"><span class="pre">Batch.rename(new_name)</span></code></p>
<p>Sometimes standard batches have long/ complex names. They can now be changed
into a custom name. Please take into account, that for most hubs the name of
omnibus batches should look like ‘client ~ topic’.</p>
<hr class="docutils" />
<p><strong>Update</strong>: Handling verbatims in <code class="docutils literal notranslate"><span class="pre">qp.Batch</span></code></p>
<p>Instead of holding the well prepared open-end dataframe in <code class="docutils literal notranslate"><span class="pre">batch.verbatims</span></code>,
the attribute is now filled by <code class="docutils literal notranslate"><span class="pre">batch.add_open_ends()</span></code> with instructions to
create the open-end dataframe. It is easier to to modify/ overwrite existing
verbatims. Therefore also a new parameter is included <code class="docutils literal notranslate"><span class="pre">overwrite=True</span></code>.</p>
<hr class="docutils" />
<p><strong>Update</strong>: <code class="docutils literal notranslate"><span class="pre">Batch.copy(...,</span> <span class="pre">b_filter=None,</span> <span class="pre">as_addition=False)</span></code></p>
<p>It is now possible to define an additional filter for a copied batch and also
to set it as addition to the master batch.</p>
<hr class="docutils" />
<p><strong>Update</strong>: Regrouping the variable list using <code class="docutils literal notranslate"><span class="pre">DataSet.order(...,</span> <span class="pre">regroup=True)</span></code></p>
<p>A new parameter called <code class="docutils literal notranslate"><span class="pre">regroup</span></code> will instruct reordering all newly created
variables into their logical position of the dataset’s main variable order, i.e.
attempting to place <em>derived</em> variables after the <em>originating</em> ones.</p>
<hr class="docutils" />
<p><strong>Bugfix</strong>: <code class="docutils literal notranslate"><span class="pre">add_meta()</span></code> and duplicated categorical <code class="docutils literal notranslate"><span class="pre">values</span></code> codes</p>
<p>Providing duplicated numerical codes while attempting to create new metadata
using <code class="docutils literal notranslate"><span class="pre">add_meta()</span></code> will now correctly raise a <code class="docutils literal notranslate"><span class="pre">ValueError</span></code> to prevent
corrupting the <code class="docutils literal notranslate"><span class="pre">DataSet</span></code>.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">cats</span> <span class="o">=</span> <span class="p">[(</span><span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;A&#39;</span><span class="p">),</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;B&#39;</span><span class="p">),</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;C&#39;</span><span class="p">),</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;D&#39;</span><span class="p">),</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;AA&#39;</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dataset</span><span class="o">.</span><span class="n">add_meta</span><span class="p">(</span><span class="s1">&#39;test_var&#39;</span><span class="p">,</span> <span class="s1">&#39;single&#39;</span><span class="p">,</span> <span class="s1">&#39;test label&#39;</span><span class="p">,</span> <span class="n">cats</span><span class="p">)</span>
<span class="go">ValueError: Cannot resolve category definition due to code duplicates: [2, 3]</span>
</pre></div>
</div>
</div>
<div class="section" id="sd-04-04-2018">
<h2>sd (04/04/2018)<a class="headerlink" href="#sd-04-04-2018" title="Permalink to this headline">¶</a></h2>
<p><strong>New</strong>: Emptiness handlers in <code class="docutils literal notranslate"><span class="pre">DataSet</span></code> and <code class="docutils literal notranslate"><span class="pre">Batch</span></code> classes</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">DataSet.empty(name,</span> <span class="pre">condition=None)</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">DataSet.empty_items(name,</span> <span class="pre">condition=None,</span> <span class="pre">by_name=True)</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">DataSet.hide_empty_items(condition=None,</span> <span class="pre">arrays=None)</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">Batch.hide_empty(xks=True,</span> <span class="pre">summaries=True)</span></code></li>
</ul>
<p><code class="docutils literal notranslate"><span class="pre">empty()</span></code> is used to test if regular variables are completely empty,
<code class="docutils literal notranslate"><span class="pre">empty_items()</span></code> checks the same for the items of an array mask definition.
Both can be run on lists of variables. If a single variable is tested, the former
returns simply boolean, the latter will list all empty items. If lists are checked,
<code class="docutils literal notranslate"><span class="pre">empty()</span></code> returns the sublist of empty variables, <code class="docutils literal notranslate"><span class="pre">empty_items()</span></code> is mapping
the list of empty items per array name. The <code class="docutils literal notranslate"><span class="pre">condition</span></code> parameter of these
methods takes a <code class="docutils literal notranslate"><span class="pre">Quantipy</span> <span class="pre">logic</span></code> expression to restrict the test to a subset
of the data, i.e. to check if variables will be empty if the dataset is filtered
a certain way. A very simple example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">dataset</span><span class="o">.</span><span class="n">add_meta</span><span class="p">(</span><span class="s1">&#39;test_var&#39;</span><span class="p">,</span> <span class="s1">&#39;int&#39;</span><span class="p">,</span> <span class="s1">&#39;Variable is empty&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dataset</span><span class="o">.</span><span class="n">empty</span><span class="p">(</span><span class="s1">&#39;test_var&#39;</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">dataset</span><span class="p">[</span><span class="n">dataset</span><span class="o">.</span><span class="n">take</span><span class="p">({</span><span class="s1">&#39;gender&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">}),</span> <span class="s1">&#39;test_var&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dataset</span><span class="o">.</span><span class="n">empty</span><span class="p">(</span><span class="s1">&#39;test_var&#39;</span><span class="p">)</span>
<span class="go">False</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">dataset</span><span class="o">.</span><span class="n">empty</span><span class="p">(</span><span class="s1">&#39;test_var&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;gender&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">})</span>
<span class="go">True</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">DataSet</span></code> method <code class="docutils literal notranslate"><span class="pre">hide_empty_items()</span></code> uses the emptiness tests to
automatically apply a <strong>hiding rule</strong> on all empty items found in the dataset.
To restrict this to specific arrays only, their names can be provided via the
<code class="docutils literal notranslate"><span class="pre">arrays</span></code> argument. <code class="docutils literal notranslate"><span class="pre">Batch.hide_empty()</span></code> takes into account the current
<code class="docutils literal notranslate"><span class="pre">Batch.filter</span></code> setup and by drops/hides <em>all</em> relevant empty variables from the
<code class="docutils literal notranslate"><span class="pre">xks</span></code> list and summary aggregations by default. Summaries that would end up without valid
items because of this are automatically removed from the <code class="docutils literal notranslate"><span class="pre">summaries</span></code> collection
and the user is warned.</p>
<hr class="docutils" />
<p><strong>New</strong>: <code class="docutils literal notranslate"><span class="pre">qp.set_option('fast_stack_filters',</span> <span class="pre">True)</span></code></p>
<p>A new option to enable a more efficient test for already existing filters
inside the <code class="docutils literal notranslate"><span class="pre">qp.Stack</span></code> object has been added. Set the <code class="docutils literal notranslate"><span class="pre">'fast_stack_filters'</span></code>
option to <code class="docutils literal notranslate"><span class="pre">True</span></code> to use it, the default is <code class="docutils literal notranslate"><span class="pre">False</span></code> to ensure compatibility
in different versions of production DP template workspaces.</p>
<hr class="docutils" />
<p><strong>Update</strong>: <code class="docutils literal notranslate"><span class="pre">Stack.add_stats(...,</span> <span class="pre">factor_labels=True,</span> <span class="pre">...)</span></code></p>
<p>The parameter <code class="docutils literal notranslate"><span class="pre">factor_labels</span></code> is now also able to take the string <code class="docutils literal notranslate"><span class="pre">'()'</span></code>,
then factors are written in the normal brackets next to the label (instead
of <code class="docutils literal notranslate"><span class="pre">[]</span></code>).</p>
<p>In the new version factor_labels are also just added if there are none included
before, except new scales are used.</p>
<hr class="docutils" />
<p><strong>Bugfix</strong>: <code class="docutils literal notranslate"><span class="pre">DataSet</span></code> <code class="docutils literal notranslate"><span class="pre">np.NaN</span></code> insertion to <code class="docutils literal notranslate"><span class="pre">delimited_set</span></code> variables</p>
<p><code class="docutils literal notranslate"><span class="pre">np.NaN</span></code> was incorrectly transformed when inserted into <code class="docutils literal notranslate"><span class="pre">delimited_set</span></code>
before, leading to either <code class="docutils literal notranslate"><span class="pre">numpy</span></code> type conflicts or type casting exceptions.
This is now fixed.</p>
</div>
<div class="section" id="sd-27-02-2018">
<h2>sd (27/02/2018)<a class="headerlink" href="#sd-27-02-2018" title="Permalink to this headline">¶</a></h2>
<p><strong>New</strong>: <code class="docutils literal notranslate"><span class="pre">DataSet._dimensions_suffix</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">DataSet</span></code> has a new attribute <code class="docutils literal notranslate"><span class="pre">_dimensions_suffix</span></code>, which is used as mask
suffix while running <code class="docutils literal notranslate"><span class="pre">DataSet.dimensionize()</span></code>. The default is <code class="docutils literal notranslate"><span class="pre">_grid</span></code> and
it can be modified with <code class="docutils literal notranslate"><span class="pre">DataSet.set_dim_suffix()</span></code>.</p>
<hr class="docutils" />
<p><strong>Update</strong>: <code class="docutils literal notranslate"><span class="pre">Stack._get_chain()</span></code> (old chain)</p>
<p>The method is speeded-up. If a filter is already included in the Stack, it is
not calculated from scratch anymore. Additionally the method has a new parameter
<code class="docutils literal notranslate"><span class="pre">described</span></code>, which takes a describing dataframe of the Stack, so it no longer
needs to be calculated in each loop.</p>
<p>Nets that are applied on array variables will now also create a new recoded
array that reflects the net definitions if <code class="docutils literal notranslate"><span class="pre">recoded</span></code> is used. The
method has been creating only the item versions before.</p>
<hr class="docutils" />
<p><strong>Update</strong>: <code class="docutils literal notranslate"><span class="pre">Stack.add_stats()</span></code></p>
<p>The method will now create a new metadata property called <code class="docutils literal notranslate"><span class="pre">'factor'</span></code> for each
variable it is applied on. You can only have one factor assigned to one
categorical value, so for multiple statistic definitions (exclusions, etc.)
it will get overwritten.</p>
<hr class="docutils" />
<p><strong>Update</strong>: <code class="docutils literal notranslate"><span class="pre">DataSet.from_batch()</span></code> (<code class="docutils literal notranslate"><span class="pre">additions</span></code> parameter)</p>
<p>The <code class="docutils literal notranslate"><span class="pre">additions</span></code> parameter has been updated to also be able to create recoded
variables from existing “additional” Batches that are attached to a parent one.
Filter variables will get the new meta <code class="docutils literal notranslate"><span class="pre">'properties'</span></code> tag <code class="docutils literal notranslate"><span class="pre">'recoded_filter'</span></code>
and only have one category (<code class="docutils literal notranslate"><span class="pre">1</span></code>, <code class="docutils literal notranslate"><span class="pre">'active'</span></code>). They are named simply
<code class="docutils literal notranslate"><span class="pre">'filter_1'</span></code>, <code class="docutils literal notranslate"><span class="pre">'filter_2'</span></code> and so on. The new possible values of the
parameters are now:</p>
<blockquote>
<div><ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">None</span></code>: <code class="docutils literal notranslate"><span class="pre">as_addition()</span></code>-Batches are not considered.</li>
<li><code class="docutils literal notranslate"><span class="pre">'variables'</span></code>: Only cross- and downbreak variables are considered.</li>
<li><code class="docutils literal notranslate"><span class="pre">'filters'</span></code>: Only filters are recoded.</li>
<li><code class="docutils literal notranslate"><span class="pre">'full'</span></code>: <code class="docutils literal notranslate"><span class="pre">'variables'</span></code> + <code class="docutils literal notranslate"><span class="pre">'filters'</span></code></li>
</ul>
</div></blockquote>
<hr class="docutils" />
<p><strong>Bugfix</strong>: <code class="docutils literal notranslate"><span class="pre">ViewManager._request_views()</span></code></p>
<p>Cumulative sums are only requested if they are included in the belonging
<code class="docutils literal notranslate"><span class="pre">Stack</span></code>. Additionally the correct related sig-tests are now taken for
cumulative sums.</p>
</div>
<div class="section" id="sd-12-01-2018">
<h2>sd (12/01/2018)<a class="headerlink" href="#sd-12-01-2018" title="Permalink to this headline">¶</a></h2>
<p><strong>New</strong>: <code class="docutils literal notranslate"><span class="pre">Audit</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">Audit</span></code> is a new class which takes <code class="docutils literal notranslate"><span class="pre">DataSet</span></code> instances, compares and aligns
them.</p>
<p>The class compares/ reports/ aligns the following aspects:</p>
<blockquote>
<div><ul class="simple">
<li>datasets are valid (<code class="docutils literal notranslate"><span class="pre">DataSet.validate()</span></code>)</li>
<li>mismatches (variables are not included in all datasets)</li>
<li>different types (variables are in more than one dataset, but have different types)</li>
<li>labels (variables are in more than one dataset, but have different labels for the same text_key)</li>
<li>value codes (variables are in more than one dataset, but have different value codes)</li>
<li>value texts (variables are in more than one dataset, but have different value texts)</li>
<li>array items (arrays are in more than one dataset, but have different items)</li>
<li>item labels (arrays are in more than one dataset, but their items have different labels)</li>
</ul>
</div></blockquote>
<p>This is the first draft of the class, so it will need some testing and probably
adjustments.</p>
<hr class="docutils" />
<p><strong>New</strong>: <code class="docutils literal notranslate"><span class="pre">DataSet.reorder_items(name,</span> <span class="pre">new_order)</span></code></p>
<p>The new method reorders the items of the included array. The ints in the
<code class="docutils literal notranslate"><span class="pre">new_order</span></code> list match up to the number of the items
(<code class="docutils literal notranslate"><span class="pre">DataSet.item_no('item_name')</span></code>), not to the position.</p>
<hr class="docutils" />
<p><strong>New</strong>: <code class="docutils literal notranslate"><span class="pre">DataSet.valid_tks</span></code>, Arabic</p>
<p>Arabic (<code class="docutils literal notranslate"><span class="pre">ar-AR</span></code>) is included as default valid text-key.</p>
<hr class="docutils" />
<p><strong>New</strong>: <code class="docutils literal notranslate"><span class="pre">DataSet.extend_items(name,</span> <span class="pre">ext_items,</span> <span class="pre">text_key=None)</span></code></p>
<p>The new method extends the items of an existing array.</p>
<hr class="docutils" />
<p><strong>Update</strong>: <code class="docutils literal notranslate"><span class="pre">DataSet.set_missings()</span></code></p>
<p>The method is now limited to <code class="docutils literal notranslate"><span class="pre">DataSet</span></code>, <code class="docutils literal notranslate"><span class="pre">Batch</span></code> does not inherit it.</p>
<hr class="docutils" />
<p><strong>Update</strong>: <code class="docutils literal notranslate"><span class="pre">DataSet</span></code></p>
<p>The whole class is reordered and cleaned up. Some new deprecation warnings
will appear.</p>
<hr class="docutils" />
<p><strong>Update</strong>: <code class="docutils literal notranslate"><span class="pre">DataSet.add_meta()</span></code> / <code class="docutils literal notranslate"><span class="pre">DataSet.derive()</span></code></p>
<p>Both methods will now raise a <code class="docutils literal notranslate"><span class="pre">ValueError:</span> <span class="pre">Duplicated</span> <span class="pre">codes</span> <span class="pre">provided.</span> <span class="pre">Value</span> <span class="pre">codes</span> <span class="pre">must</span> <span class="pre">be</span> <span class="pre">unique!</span></code>
if categorical <code class="docutils literal notranslate"><span class="pre">values</span></code> definitions try to apply duplicated codes.</p>
</div>
<hr class="docutils" />
<div class="section" id="sd-18-12-2017">
<h2>sd (18/12/2017)<a class="headerlink" href="#sd-18-12-2017" title="Permalink to this headline">¶</a></h2>
<p><strong>New</strong>: <code class="docutils literal notranslate"><span class="pre">Batch.remove_filter()</span></code></p>
<p>Removes all defined (global + extended) filters from a Batch instance.</p>
<hr class="docutils" />
<p><strong>Update</strong>: <code class="docutils literal notranslate"><span class="pre">Batch.add_filter()</span></code></p>
<p>It’s now possible to extend the global filter of a Batch instance. These options
are possible.</p>
<p>Add first filter:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">batch</span><span class="o">.</span><span class="n">filter</span><span class="p">,</span> <span class="n">batch</span><span class="o">.</span><span class="n">filter_names</span>
<span class="go">&#39;no_filter&#39;, [&#39;no_filter&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">batch</span><span class="o">.</span><span class="n">add_filter</span><span class="p">(</span><span class="s1">&#39;filter1&#39;</span><span class="p">,</span> <span class="n">logic1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">batch</span><span class="o">.</span><span class="n">filter</span><span class="p">,</span> <span class="n">batch</span><span class="o">.</span><span class="n">filter_names</span>
<span class="go">{&#39;filter1&#39;: logic1}, [&#39;filter1&#39;]</span>
</pre></div>
</div>
<p>Extend filter:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">batch</span><span class="o">.</span><span class="n">filter</span><span class="p">,</span> <span class="n">batch</span><span class="o">.</span><span class="n">filter_names</span>
<span class="go">{&#39;filter1&#39;: logic}, [&#39;filter1&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">batch</span><span class="o">.</span><span class="n">add_filter</span><span class="p">(</span><span class="s1">&#39;filter2&#39;</span><span class="p">,</span> <span class="n">logic2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">batch</span><span class="o">.</span><span class="n">filter</span><span class="p">,</span> <span class="n">batch</span><span class="o">.</span><span class="n">filter_names</span>
<span class="go">{&#39;filter1&#39; + &#39;filter2&#39;: intersection([logic1, logic2])}, [&#39;filter1&#39; + &#39;filter2&#39;]</span>
</pre></div>
</div>
<p>Replace filter:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">batch</span><span class="o">.</span><span class="n">filter</span><span class="p">,</span> <span class="n">batch</span><span class="o">.</span><span class="n">filter_names</span>
<span class="go">{&#39;filter1&#39;: logic}, [&#39;filter1&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">batch</span><span class="o">.</span><span class="n">add_filter</span><span class="p">(</span><span class="s1">&#39;filter1&#39;</span><span class="p">,</span> <span class="n">logic2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">batch</span><span class="o">.</span><span class="n">filter</span><span class="p">,</span> <span class="n">batch</span><span class="o">.</span><span class="n">filter_names</span>
<span class="go">{&#39;filter1&#39;: logic2}, [&#39;filter1&#39;]</span>
</pre></div>
</div>
<hr class="docutils" />
<p><strong>Update</strong>: <code class="docutils literal notranslate"><span class="pre">Stack.add_stats(...,</span> <span class="pre">recode)</span></code></p>
<p>The new parameter <code class="docutils literal notranslate"><span class="pre">recode</span></code> defines if a new numerical variable is created which
satisfies the stat definitions.</p>
<hr class="docutils" />
<p><strong>Update</strong>: <code class="docutils literal notranslate"><span class="pre">DataSet.populate()</span></code></p>
<p>A progress tracker is added to this method.</p>
<hr class="docutils" />
<p><strong>Bugfix</strong>: <code class="docutils literal notranslate"><span class="pre">Batch.add_open_ends()</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">=</span></code> is removed from all responsess in the included variables, as it causes
errors in the Excel-Painter.</p>
<hr class="docutils" />
<p><strong>Bugfix</strong>: <code class="docutils literal notranslate"><span class="pre">Batch.extend_x()</span></code> and <code class="docutils literal notranslate"><span class="pre">Batch.extend_y()</span></code></p>
<p>Check if included variables exist and unroll included masks.</p>
<hr class="docutils" />
<p><strong>Bugfix</strong>: <code class="docutils literal notranslate"><span class="pre">Stack.add_nets(...,</span> <span class="pre">calc)</span></code></p>
<p>If the operator in calc is <code class="docutils literal notranslate"><span class="pre">div</span></code>/ <code class="docutils literal notranslate"><span class="pre">/</span></code>, the calculation is now performed
correctly.</p>
</div>
<hr class="docutils" />
<div class="section" id="sd-28-11-2017">
<h2>sd (28/11/2017)<a class="headerlink" href="#sd-28-11-2017" title="Permalink to this headline">¶</a></h2>
<p><strong>New</strong> <code class="docutils literal notranslate"><span class="pre">DataSet.from_batch()</span></code></p>
<p>Creates a new <code class="docutils literal notranslate"><span class="pre">DataSet</span></code> instance out of <code class="docutils literal notranslate"><span class="pre">Batch</span></code> definitions (xks, yks,
filter, weight, language, additions, edits).</p>
<hr class="docutils" />
<p><strong>New</strong>: <code class="docutils literal notranslate"><span class="pre">Batch.add_total()</span></code></p>
<p>Defines if total column <code class="docutils literal notranslate"><span class="pre">&#64;</span></code> should be included in the downbreaks (yks).</p>
<hr class="docutils" />
<p><strong>New</strong>: <code class="docutils literal notranslate"><span class="pre">Batch.set_unwgt_counts()</span></code></p>
<p>If cellitems are <code class="docutils literal notranslate"><span class="pre">cp</span></code> and a weight is provided, it is possible to request
unweighted count views (percentages are still weighted).</p>
<hr class="docutils" />
<p><strong>Update</strong>: <code class="docutils literal notranslate"><span class="pre">Batch.add_y_on_y(name,</span> <span class="pre">y_filter=None,</span> <span class="pre">main_filter='extend')</span></code></p>
<p>Multiple <code class="docutils literal notranslate"><span class="pre">y_on_y</span></code> aggregations can now be added to a <code class="docutils literal notranslate"><span class="pre">Batch</span></code> instance
and each can have an own filter. The y_on_y-filter can <code class="docutils literal notranslate"><span class="pre">extend</span></code> or <code class="docutils literal notranslate"><span class="pre">replace</span></code>
the main_filter of the <code class="docutils literal notranslate"><span class="pre">Batch</span></code>.</p>
<hr class="docutils" />
<p><strong>Update</strong>: <code class="docutils literal notranslate"><span class="pre">Stack.add_nets(...,</span> <span class="pre">recode)</span></code></p>
<p>The new parameter <code class="docutils literal notranslate"><span class="pre">recode</span></code> defines if a new variable is created which
satisfies the net definitions. Different options for <code class="docutils literal notranslate"><span class="pre">recode</span></code> are:</p>
<blockquote>
<div><ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">'extend_codes'</span></code>: The new variable contains all codes of the original
variable and all nets as new categories.</li>
<li><code class="docutils literal notranslate"><span class="pre">'drop_codes'</span></code>: The new variable contains only all nets as new categories.</li>
<li><code class="docutils literal notranslate"><span class="pre">'collect_codes'</span></code> or <code class="docutils literal notranslate"><span class="pre">'collect_codes&#64;cat_name'</span></code>: The new variable contains
all nets as new categories and another new category which sums all cases that
are not in any net. The new category text can be defined by adding <code class="docutils literal notranslate"><span class="pre">&#64;cat_name</span></code>
to <code class="docutils literal notranslate"><span class="pre">collect_codes</span></code>. If none is provided <code class="docutils literal notranslate"><span class="pre">Other</span></code> is used as default.</li>
</ul>
</div></blockquote>
<hr class="docutils" />
<p><strong>Update</strong>: <code class="docutils literal notranslate"><span class="pre">Stack.add_nets()</span></code></p>
<p>If a variable in the <code class="docutils literal notranslate"><span class="pre">Stack</span></code> already has a net_view, it gets overwritten
if a new net is added.</p>
<hr class="docutils" />
<p><strong>Update</strong>: <code class="docutils literal notranslate"><span class="pre">DataSet.set_missings(...,</span> <span class="pre">missing_map)</span></code></p>
<p>The parameter <code class="docutils literal notranslate"><span class="pre">missing_map</span></code> can also handle lists now. All included
codes are be flagged as <code class="docutils literal notranslate"><span class="pre">'exclude'</span></code>.</p>
<hr class="docutils" />
<p><strong>Update</strong>: <code class="docutils literal notranslate"><span class="pre">request_views(...,</span> <span class="pre">sums='mid')</span></code> (<code class="docutils literal notranslate"><span class="pre">ViewManager</span></code>/<code class="docutils literal notranslate"><span class="pre">query.py</span></code>)</p>
<p>Allow different positions for sums in the view-order. They can be placed in
the middle (<code class="docutils literal notranslate"><span class="pre">'mid'</span></code>) between the basics/ nets and the stats or at the
<code class="docutils literal notranslate"><span class="pre">'bottom'</span></code> after the stats.</p>
<hr class="docutils" />
<p><strong>Update/ New</strong>: <code class="docutils literal notranslate"><span class="pre">write_dimensions()</span></code></p>
<p>Converting qp data to mdd and ddf files by using <code class="docutils literal notranslate"><span class="pre">write_dimensions()</span></code> is
updated now. A bug regarding encoding texts is fixed and additionally all
included <code class="docutils literal notranslate"><span class="pre">text_keys</span></code> in the meta are transferred into the mdd. Therefore
two new classes are included: <code class="docutils literal notranslate"><span class="pre">DimLabels</span></code> and <code class="docutils literal notranslate"><span class="pre">DimLabel</span></code>.</p>
</div>
<div class="section" id="sd-13-11-2017">
<h2>sd (13/11/2017)<a class="headerlink" href="#sd-13-11-2017" title="Permalink to this headline">¶</a></h2>
<dl class="docutils">
<dt><strong>New</strong> <a href="#id1"><span class="problematic" id="id2">``</span></a>DataSet.to_delimited_set(name, label, variables,</dt>
<dd>from_dichotomous=True, codes_from_name=True)``</dd>
</dl>
<p>Creates a new delimited set variable out of other variables. If the input-
variables are dichotomous (<code class="docutils literal notranslate"><span class="pre">from_dichotomous</span></code>), the new value-codes can be
taken from the variable-names or from the order of the variables
(<code class="docutils literal notranslate"><span class="pre">codes_from_name</span></code>).</p>
<hr class="docutils" />
<p><strong>Update</strong> <code class="docutils literal notranslate"><span class="pre">Stack.aggregate(...,</span> <span class="pre">bases={})</span></code></p>
<p>A dictionary in form of:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">bases</span> <span class="o">=</span> <span class="p">{</span>
   <span class="s1">&#39;cbase&#39;</span><span class="p">:</span> <span class="p">{</span>
      <span class="s1">&#39;wgt&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
      <span class="s1">&#39;unwgt&#39;</span><span class="p">:</span> <span class="kc">False</span><span class="p">},</span>
   <span class="s1">&#39;cbase_gross&#39;</span><span class="p">:</span> <span class="p">{</span>
      <span class="s1">&#39;wgt&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
      <span class="s1">&#39;unwgt&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">},</span>
   <span class="s1">&#39;ebase&#39;</span><span class="p">:</span> <span class="p">{</span>
      <span class="s1">&#39;wgt&#39;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
      <span class="s1">&#39;unwgt&#39;</span><span class="p">:</span> <span class="kc">False</span><span class="p">}</span>
      <span class="p">}</span>
</pre></div>
</div>
<p>defines what kind of bases will be aggregated. If <code class="docutils literal notranslate"><span class="pre">bases</span></code> is provided the
old parameter <code class="docutils literal notranslate"><span class="pre">unweighted_base</span></code> and any bases in the parameter <code class="docutils literal notranslate"><span class="pre">views</span></code>
will be ignored. If bases is not provided and any base is included in <code class="docutils literal notranslate"><span class="pre">views</span></code>,
a dictionary is automatically created out of <code class="docutils literal notranslate"><span class="pre">views</span></code> and <code class="docutils literal notranslate"><span class="pre">unweighted_base</span></code>.</p>
</div>
<div class="section" id="sd-17-10-2017">
<h2>sd (17/10/2017)<a class="headerlink" href="#sd-17-10-2017" title="Permalink to this headline">¶</a></h2>
<p><strong>New</strong>: <code class="docutils literal notranslate"><span class="pre">del</span> <span class="pre">DataSet['var_name']</span></code> and <code class="docutils literal notranslate"><span class="pre">'var_name'</span> <span class="pre">in</span> <span class="pre">DataSet</span></code> syntax support</p>
<p>It is now possible to test membership of a variable name simply using the <code class="docutils literal notranslate"><span class="pre">in</span></code>
operator instead of <code class="docutils literal notranslate"><span class="pre">DataSet.var_exists('var_name')</span></code> and delete a variable definition
from <code class="docutils literal notranslate"><span class="pre">DataSet</span></code> using the <code class="docutils literal notranslate"><span class="pre">del</span></code> keyword inplace of the <code class="docutils literal notranslate"><span class="pre">drop('var_name')</span></code>
method.</p>
<hr class="docutils" />
<p><strong>New</strong>: <code class="docutils literal notranslate"><span class="pre">DataSet.is_single(name)</span></code>, <code class="docutils literal notranslate"><span class="pre">.is_delimited_set(name)</span></code>, <code class="docutils literal notranslate"><span class="pre">.is_int(name)</span></code>, <code class="docutils literal notranslate"><span class="pre">.is_float(name)</span></code>, <code class="docutils literal notranslate"><span class="pre">.is_string(name)</span></code>, <code class="docutils literal notranslate"><span class="pre">.is_date(name)</span></code>, <code class="docutils literal notranslate"><span class="pre">.is_array(name)</span></code></p>
<p>These new methods make testing a variable’s type easy.</p>
<hr class="docutils" />
<p><strong>Update</strong>: <code class="docutils literal notranslate"><span class="pre">DataSet.singles(array_items=True)</span></code> and all other non-<code class="docutils literal notranslate"><span class="pre">array</span></code> type iterators</p>
<p>It is now possible to exclude <code class="docutils literal notranslate"><span class="pre">array</span></code> items from <code class="docutils literal notranslate"><span class="pre">singles()</span></code>, <code class="docutils literal notranslate"><span class="pre">delimited_sets()</span></code>,
<code class="docutils literal notranslate"><span class="pre">ints()</span></code> and <code class="docutils literal notranslate"><span class="pre">floats()</span></code> variable lists by setting the new <code class="docutils literal notranslate"><span class="pre">array_items</span></code>
parameter to <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p>
<hr class="docutils" />
<p><strong>Update</strong>: <code class="docutils literal notranslate"><span class="pre">Batch.set_sigtests(...,</span> <span class="pre">flags=None,</span> <span class="pre">test_total=None)</span></code>, <code class="docutils literal notranslate"><span class="pre">Batch.sigproperties</span></code></p>
<p>The significancetest-settings for flagging and testing against total, can now
be modified by the two parameters <code class="docutils literal notranslate"><span class="pre">flags</span></code> and <code class="docutils literal notranslate"><span class="pre">test_total</span></code>. The <code class="docutils literal notranslate"><span class="pre">Batch</span></code>
attribute <code class="docutils literal notranslate"><span class="pre">siglevels</span></code> is removed, instead all sig-settings are stored
in <code class="docutils literal notranslate"><span class="pre">Batch.sigproperties</span></code>.</p>
<hr class="docutils" />
<p><strong>Update</strong>: <code class="docutils literal notranslate"><span class="pre">Batch.make_summaries(...,</span> <span class="pre">exclusive=False)</span></code>, <code class="docutils literal notranslate"><span class="pre">Batch.skip_items</span></code></p>
<p>The new parameter <code class="docutils literal notranslate"><span class="pre">exclusive</span></code> can take a list of arrays or a boolean. If a list
is included, these arrays are added to <code class="docutils literal notranslate"><span class="pre">Batch.skip_items</span></code>, if it is True all
variables from <code class="docutils literal notranslate"><span class="pre">Batch.summaries</span></code> are added to <code class="docutils literal notranslate"><span class="pre">Batch.skip_items</span></code></p>
<hr class="docutils" />
<p><strong>Update</strong>: <code class="docutils literal notranslate"><span class="pre">quantipy.sandbox.sandbox.Chain.paint(...,</span> <span class="pre">totalize=True)</span></code></p>
<p>If <code class="docutils literal notranslate"><span class="pre">totalize</span></code> is <code class="docutils literal notranslate"><span class="pre">True</span></code>, <code class="docutils literal notranslate"><span class="pre">&#64;</span></code>-Total columns of a (x-oriented) <code class="docutils literal notranslate"><span class="pre">Chain.dataframe</span></code>
will be painted as <code class="docutils literal notranslate"><span class="pre">'Total'</span></code> instead of showing the corresponsing <code class="docutils literal notranslate"><span class="pre">x</span></code>-variables
question text.</p>
<hr class="docutils" />
<p><strong>Update</strong>: <code class="docutils literal notranslate"><span class="pre">quantipy.core.weights.Rim.Rake</span></code></p>
<p>The weighting algorithm’s <code class="docutils literal notranslate"><span class="pre">generate_report()</span></code> method can be caught up in a
<code class="docutils literal notranslate"><span class="pre">MemoryError</span></code> for complex weight schemes run on very large sample sizes. This
is now prevented to ensure the weight factors are computed with priority and
the algorithm is able to terminate correctly. A warning is raised:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="ne">UserWarning</span><span class="p">:</span> <span class="n">OOM</span><span class="p">:</span> <span class="n">Could</span> <span class="ow">not</span> <span class="n">finish</span> <span class="n">writing</span> <span class="n">report</span><span class="o">...</span>
</pre></div>
</div>
<hr class="docutils" />
<p><strong>Update</strong>: <code class="docutils literal notranslate"><span class="pre">Batch.replace_y()</span></code></p>
<p>Conditional replacements of y-variables of a <code class="docutils literal notranslate"><span class="pre">Batch</span></code> will now always also
automatically add the <code class="docutils literal notranslate"><span class="pre">&#64;</span></code>-Total indicator if not provided.</p>
<hr class="docutils" />
<p><strong>Bugfix</strong>: <code class="docutils literal notranslate"><span class="pre">DataSet.force_texts(...,</span>&#160; <span class="pre">overwrite=True)</span></code></p>
<p>Forced overwriting of existing <code class="docutils literal notranslate"><span class="pre">text_key</span></code> meta data was failing for <code class="docutils literal notranslate"><span class="pre">array</span></code>
<code class="docutils literal notranslate"><span class="pre">mask</span></code> objects. This is now solved.</p>
</div>
<hr class="docutils" />
<div class="section" id="sd-15-09-2017">
<h2>sd (15/09/2017)<a class="headerlink" href="#sd-15-09-2017" title="Permalink to this headline">¶</a></h2>
<p><strong>New</strong>: <code class="docutils literal notranslate"><span class="pre">DataSet.meta_to_json(key=None,</span> <span class="pre">collection=None)</span></code></p>
<p>The new method allows saving parts of the metadata as a json file. The parameters
<code class="docutils literal notranslate"><span class="pre">key</span></code> and <code class="docutils literal notranslate"><span class="pre">collection</span></code> define the metaobject which will be saved.</p>
<hr class="docutils" />
<p><strong>New</strong>: <code class="docutils literal notranslate"><span class="pre">DataSet.save()</span></code> and <code class="docutils literal notranslate"><span class="pre">DataSet.revert()</span></code></p>
<p>These two new methods are useful in interactive sessions like <strong>Ipython</strong> or
<strong>Jupyter</strong> notebooks. <code class="docutils literal notranslate"><span class="pre">save()</span></code> will make a temporary (only im memory, not
written to disk) copy of the <code class="docutils literal notranslate"><span class="pre">DataSet</span></code> and store its current state. You can
then use <code class="docutils literal notranslate"><span class="pre">revert()</span></code> to rollback to that snapshot of the data at a later
stage (e.g. a complex recode operation went wrong, reloading from the physical files takes
too long…).</p>
<hr class="docutils" />
<p><strong>New</strong>: <code class="docutils literal notranslate"><span class="pre">DataSet.by_type(types=None)</span></code></p>
<p>The <code class="docutils literal notranslate"><span class="pre">by_type()</span></code> method is replacing the soon to be deprecated implementation
of <code class="docutils literal notranslate"><span class="pre">variables()</span></code> (see below). It provides the same functionality
(<code class="docutils literal notranslate"><span class="pre">pd.DataFrame</span></code> summary of variable types) as the latter.</p>
<hr class="docutils" />
<p><strong>Update</strong>: <code class="docutils literal notranslate"><span class="pre">DataSet.variables()</span></code> absorbs <code class="docutils literal notranslate"><span class="pre">list_variables()</span></code> and <code class="docutils literal notranslate"><span class="pre">variables_from_set()</span></code></p>
<p>In conjunction with the addition of <code class="docutils literal notranslate"><span class="pre">by_type()</span></code>, <code class="docutils literal notranslate"><span class="pre">variables()</span></code> is
replacing the related <code class="docutils literal notranslate"><span class="pre">list_variables()</span></code> and <code class="docutils literal notranslate"><span class="pre">variables_from_set()</span></code> methods in order to offer a unified solution for querying the <code class="docutils literal notranslate"><span class="pre">DataSet</span></code>’s (main) variable collection.</p>
<hr class="docutils" />
<p><strong>Update</strong>: <code class="docutils literal notranslate"><span class="pre">Batch.as_addition()</span></code></p>
<p>The possibility to add multiple cell item iterations of one <code class="docutils literal notranslate"><span class="pre">Batch</span></code> definition
via that method has been reintroduced (it was working by accident in previous
versions with subtle side effects and then removed). Have fun!</p>
<hr class="docutils" />
<p><strong>Update</strong>: <code class="docutils literal notranslate"><span class="pre">Batch.add_open_ends()</span></code></p>
<p>The method will now raise an <code class="docutils literal notranslate"><span class="pre">Exception</span></code> if called on a <code class="docutils literal notranslate"><span class="pre">Batch</span></code> that has
been added to a parent one via <code class="docutils literal notranslate"><span class="pre">as_addition()</span></code> to warn the user and prevent
errors at the build stage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>NotImplementedError: Cannot add open end DataFrames to as_addition()-Batches!
</pre></div>
</div>
</div>
<div class="section" id="sd-31-08-2017">
<h2>sd (31/08/2017)<a class="headerlink" href="#sd-31-08-2017" title="Permalink to this headline">¶</a></h2>
<p><strong>New</strong>: <code class="docutils literal notranslate"><span class="pre">DataSet.code_from_label(...,</span> <span class="pre">exact=True)</span></code></p>
<p>The new parameter <code class="docutils literal notranslate"><span class="pre">exact</span></code> is implemented. If <code class="docutils literal notranslate"><span class="pre">exact=True</span></code> codes are returned
whose belonging label is equal the included <code class="docutils literal notranslate"><span class="pre">text_label</span></code>. Otherwise the
method checks if the labels contain the included <code class="docutils literal notranslate"><span class="pre">text_label</span></code>.</p>
<hr class="docutils" />
<p><strong>New</strong>: <code class="docutils literal notranslate"><span class="pre">DataSet.order(new_order=None,</span> <span class="pre">reposition=None)</span></code></p>
<p>This new method can be used to change the global order of the <code class="docutils literal notranslate"><span class="pre">DataSet</span></code>
variables. You can either pass a complete <code class="docutils literal notranslate"><span class="pre">new_order</span></code> list of variable names to
set the order or provide a list of dictionaries to move (multiple) variables
before a reference variable name. The order is reflected in the case data
<code class="docutils literal notranslate"><span class="pre">pd.DataFrame.columns</span></code> order and the meta <code class="docutils literal notranslate"><span class="pre">'data</span> <span class="pre">file'</span></code> <code class="docutils literal notranslate"><span class="pre">set</span></code> object’s items.</p>
<hr class="docutils" />
<p><strong>New</strong>: <code class="docutils literal notranslate"><span class="pre">DataSet.dichotomize(name,</span> <span class="pre">value_texts=None,</span> <span class="pre">keep_variable_text=True,</span> <span class="pre">ignore=None,</span> <span class="pre">replace=False,</span> <span class="pre">text_key=None)</span></code></p>
<p>Use this to convert a <code class="docutils literal notranslate"><span class="pre">'delimited</span> <span class="pre">set'</span></code> variable into a set of binary coded
<code class="docutils literal notranslate"><span class="pre">'single'</span></code> variables. Variables will have the values 1/0 and by default use
<code class="docutils literal notranslate"><span class="pre">'Yes'</span></code> / <code class="docutils literal notranslate"><span class="pre">'No'</span></code> as the corresponding labels. Use the <code class="docutils literal notranslate"><span class="pre">value_texts</span></code>
parameter to apply custom labels.</p>
<hr class="docutils" />
<p><strong>New</strong>: <code class="docutils literal notranslate"><span class="pre">Batch.extend_x(ext_xks)</span></code></p>
<p>The new method enables an easy extension of <code class="docutils literal notranslate"><span class="pre">Batch.xks</span></code>. In <code class="docutils literal notranslate"><span class="pre">ext_xks</span></code>
included <code class="docutils literal notranslate"><span class="pre">str</span></code> are added at the end of <code class="docutils literal notranslate"><span class="pre">Batch.xks</span></code>. Values of included
<code class="docutils literal notranslate"><span class="pre">dict</span></code>s are positioned in front of the related key.</p>
<hr class="docutils" />
<p><strong>Update</strong>: <code class="docutils literal notranslate"><span class="pre">Batch.extend_y(ext_yks,</span> <span class="pre">...)</span></code></p>
<p>The parameter <code class="docutils literal notranslate"><span class="pre">ext_yks</span></code> now also takes <code class="docutils literal notranslate"><span class="pre">dict</span></code>s, which define the position
of the additional <code class="docutils literal notranslate"><span class="pre">yks</span></code>.</p>
<hr class="docutils" />
<p><strong>Update</strong>: <code class="docutils literal notranslate"><span class="pre">Batch.add_open_ends(...,</span> <span class="pre">replacements)</span></code></p>
<p>The new parameter <code class="docutils literal notranslate"><span class="pre">replacements</span></code> is implemented. The method loops over the
whole pd.DataFrame and replaces all keys of the included <code class="docutils literal notranslate"><span class="pre">dict</span></code>
with the belonging value.</p>
<hr class="docutils" />
<p><strong>Update</strong>: <code class="docutils literal notranslate"><span class="pre">Stack.add_stats(...,</span> <span class="pre">other_source)</span></code></p>
<p>Statistic views can now be added to delimited sets if <code class="docutils literal notranslate"><span class="pre">other_source</span></code> is used.
In this case <code class="docutils literal notranslate"><span class="pre">other_source</span></code> must be a single or numerical variable.</p>
<hr class="docutils" />
<p><strong>Update</strong>: <code class="docutils literal notranslate"><span class="pre">DataSet.validate(...,</span> <span class="pre">spss_limits=False)</span></code></p>
<p>The new parameter <code class="docutils literal notranslate"><span class="pre">spss_limits</span></code> is implemented. If <code class="docutils literal notranslate"><span class="pre">spss_limits=True</span></code>, the
validate output dataframe is extended by 3 columns which show if the SPSS label
limitations are satisfied.</p>
<hr class="docutils" />
<p><strong>Bugfix</strong>: <code class="docutils literal notranslate"><span class="pre">DataSet.convert()</span></code></p>
<p>A bug that prevented conversions from <code class="docutils literal notranslate"><span class="pre">single</span></code> to numeric types has been fixed.</p>
<hr class="docutils" />
<p><strong>Bugfix</strong>: <code class="docutils literal notranslate"><span class="pre">DataSet.add_meta()</span></code></p>
<p>A bug that prevented the creation of numerical arrays outside of <code class="docutils literal notranslate"><span class="pre">to.array()</span></code>
has been fixed. It is now possible to create <code class="docutils literal notranslate"><span class="pre">array</span></code> metadata without providing
category references.</p>
<hr class="docutils" />
<p><strong>Bugfix</strong>: <code class="docutils literal notranslate"><span class="pre">Stack.add_stats()</span></code></p>
<p>Checking the statistic views is skipped now if no single typed variables are
included even if a checking cluster is provided.</p>
<hr class="docutils" />
<p><strong>Bugfix</strong>: <code class="docutils literal notranslate"><span class="pre">Batch.copy()</span></code></p>
<p>Instead of using a deepcopy of the <code class="docutils literal notranslate"><span class="pre">Batch</span></code> instance, a new instance is created
and filled with the attributes of the initial one. Then the copied instance can
be used as additional <code class="docutils literal notranslate"><span class="pre">Batch</span></code>.</p>
<hr class="docutils" />
<p><strong>Bugfix</strong>: <code class="docutils literal notranslate"><span class="pre">qp.core.builds.powerpoint</span></code></p>
<p>Access to bar-chart series and colour-filling is now working for
different Powerpoint versions. Also a bug is fixed which came up in
<code class="docutils literal notranslate"><span class="pre">PowerPointpainter()</span></code> for variables which have fixed categories and whose
values are located in <code class="docutils literal notranslate"><span class="pre">lib</span></code>.</p>
</div>
<div class="section" id="sd-24-07-2017">
<h2>sd (24/07/2017)<a class="headerlink" href="#sd-24-07-2017" title="Permalink to this headline">¶</a></h2>
<p><strong>New</strong>: <code class="docutils literal notranslate"><span class="pre">qp.set_option()</span></code></p>
<p>It is now possible to set library-wide settings registered in <code class="docutils literal notranslate"><span class="pre">qp.OPTIONS</span></code>
by providing the setting’s name (key) and the desired value. Currently supported
are:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">OPTIONS</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s1">&#39;new_rules&#39;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
        <span class="s1">&#39;new_chains&#39;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
        <span class="s1">&#39;short_item_texts&#39;</span><span class="p">:</span> <span class="kc">False</span>
<span class="p">}</span>
</pre></div>
</div>
<p>So for example, to work with the currently refactored <code class="docutils literal notranslate"><span class="pre">Chain</span></code> interim class
we can use <code class="docutils literal notranslate"><span class="pre">qp.set_options('new_chains',</span> <span class="pre">True)</span></code>.</p>
<hr class="docutils" />
<p><strong>New</strong>: <code class="docutils literal notranslate"><span class="pre">qp.Batch()</span></code></p>
<p>This is a new object aimed at defining and structuring aggregation and build
setups. Please see an <a class="reference internal" href="../lib_doc/batch/00_overview.html"><span class="doc">extensive overview here</span></a>.</p>
<hr class="docutils" />
<p><strong>New</strong>: <code class="docutils literal notranslate"><span class="pre">Stack.aggregate()</span></code> / <code class="docutils literal notranslate"><span class="pre">add_nets()</span></code> / <code class="docutils literal notranslate"><span class="pre">add_stats()</span></code> / <code class="docutils literal notranslate"><span class="pre">add_tests()</span></code> / …</p>
<p>Connected to the new <code class="docutils literal notranslate"><span class="pre">Batch</span></code> class, some new <code class="docutils literal notranslate"><span class="pre">Stack</span></code> methods to ease up
view creation have been added. You can <a class="reference internal" href="../lib_doc/engine/00_overview.html"><span class="doc">find the docs here</span></a>.</p>
<hr class="docutils" />
<p><strong>New</strong>: <code class="docutils literal notranslate"><span class="pre">DataSet.populate()</span></code></p>
<p>Use this to create a <code class="docutils literal notranslate"><span class="pre">qp.Stack</span></code> from <code class="docutils literal notranslate"><span class="pre">Batch</span></code> definitions. This connects the
<code class="docutils literal notranslate"><span class="pre">Batch</span></code> and <code class="docutils literal notranslate"><span class="pre">Stack</span></code> objects; check out the  <a class="reference internal" href="../lib_doc/batch/00_overview.html"><span class="doc">Batch</span></a>
and <a class="reference internal" href="../lib_doc/engine/00_overview.html"><span class="doc">Analysis &amp; aggregation</span></a> docs.</p>
<hr class="docutils" />
<p><strong>New</strong>: <code class="docutils literal notranslate"><span class="pre">DataSet.write_dimensions(path_mdd=None,</span> <span class="pre">path_ddf=None,</span> <span class="pre">text_key=None,</span> <span class="pre">mdm_lang='ENG',</span> <span class="pre">run=True,</span> <span class="pre">clean_up=True)</span></code></p>
<p>It is now possible to directly convert a <code class="docutils literal notranslate"><span class="pre">DataSet</span></code> into a Dimensions .ddf/.mdd
file pair (given SPSS Data Collection Base Professional is installed on your
machine). By default, files will be saved to the same location in that the
<code class="docutils literal notranslate"><span class="pre">DataSet</span></code> resides and keep its <code class="docutils literal notranslate"><span class="pre">text_key</span></code>.</p>
<hr class="docutils" />
<p><strong>New</strong>: <code class="docutils literal notranslate"><span class="pre">DataSet.repair()</span></code></p>
<p>This new method can be used to try to fix common <code class="docutils literal notranslate"><span class="pre">DataSet</span></code> metadata problems
stemming from outdated versions, incorrect manual editing of the meta dictionary
or other inconsistencies. The method is checking and repairing following issues:</p>
<blockquote>
<div><ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">'name'</span></code> is present for all variable metadata</li>
<li><code class="docutils literal notranslate"><span class="pre">'source'</span></code> and <code class="docutils literal notranslate"><span class="pre">'subtype'</span></code> references for array variables</li>
<li>correct <code class="docutils literal notranslate"><span class="pre">'lib'</span></code>-based <code class="docutils literal notranslate"><span class="pre">'values'</span></code> object for array variables</li>
<li><code class="docutils literal notranslate"><span class="pre">text</span> <span class="pre">key</span></code>-dependent <code class="docutils literal notranslate"><span class="pre">'x</span> <span class="pre">edits'</span></code> / <code class="docutils literal notranslate"><span class="pre">'y</span> <span class="pre">edits'</span></code> meta data</li>
<li><code class="docutils literal notranslate"><span class="pre">['data</span> <span class="pre">file']['items']</span></code> set entries exist in <code class="docutils literal notranslate"><span class="pre">'columns'</span></code> / <code class="docutils literal notranslate"><span class="pre">'masks'</span></code></li>
</ul>
</div></blockquote>
<hr class="docutils" />
<p><strong>New</strong>: <code class="docutils literal notranslate"><span class="pre">DataSet.subset(variables=None,</span> <span class="pre">from_set=None,</span> <span class="pre">inplace=False)</span></code></p>
<p>As a counterpart to <code class="docutils literal notranslate"><span class="pre">filter()</span></code>, <code class="docutils literal notranslate"><span class="pre">subset()</span></code> can be used to create a new
<code class="docutils literal notranslate"><span class="pre">DataSet</span></code> that contains only a selection of variables. The new variables
collection can be provided either as a list of names or by naming an already
existing set containing the desired variables.</p>
<hr class="docutils" />
<p><strong>New</strong>: <code class="docutils literal notranslate"><span class="pre">DataSet.variables_from_set(setname)</span></code></p>
<p>Get the list of variables belonging to the passed set indicated by
<code class="docutils literal notranslate"><span class="pre">setname</span></code>.</p>
<hr class="docutils" />
<p><strong>New</strong>: <code class="docutils literal notranslate"><span class="pre">DataSet.is_like_numeric(name)</span></code></p>
<p>A new method to test if all of a <code class="docutils literal notranslate"><span class="pre">string</span></code> variable’s values can be converted
to a numerical (<code class="docutils literal notranslate"><span class="pre">int</span></code> / <code class="docutils literal notranslate"><span class="pre">float</span></code>) type. Returns a boolean <code class="docutils literal notranslate"><span class="pre">True</span></code> / <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p>
<hr class="docutils" />
<p><strong>Update</strong>: <code class="docutils literal notranslate"><span class="pre">DataSet.convert()</span></code></p>
<p>It is now possible to convert inplace from <code class="docutils literal notranslate"><span class="pre">string</span></code> to <code class="docutils literal notranslate"><span class="pre">int</span></code> / <code class="docutils literal notranslate"><span class="pre">float</span></code> if
the respective internal <code class="docutils literal notranslate"><span class="pre">is_like_numeric()</span></code> check identifies numeric-like values.</p>
<hr class="docutils" />
<p><strong>Update</strong>: <code class="docutils literal notranslate"><span class="pre">DataSet.from_components(...,</span> <span class="pre">reset=True)</span></code>, <code class="docutils literal notranslate"><span class="pre">DataSet.read_quantipy(...,</span> <span class="pre">reset=True)</span></code></p>
<p>Loaded <code class="docutils literal notranslate"><span class="pre">.json</span></code> metadata dictionaries will get cleaned now by default from any
user-defined, non-native objects inside the <code class="docutils literal notranslate"><span class="pre">'lib'</span></code> and <code class="docutils literal notranslate"><span class="pre">'sets'</span></code>
collections. Set <code class="docutils literal notranslate"><span class="pre">reset=False</span></code> to keep any extra entires (restoring the old
behaviour).</p>
<hr class="docutils" />
<p><strong>Update</strong>: <code class="docutils literal notranslate"><span class="pre">DataSet.from_components(data_df,</span> <span class="pre">meta_dict=None,</span> <span class="pre">...)</span></code></p>
<p>It is now possible to create a <code class="docutils literal notranslate"><span class="pre">DataSet</span></code> instance by providing a <code class="docutils literal notranslate"><span class="pre">pd.DataFrame</span></code>
alone, without any accompanying meta data. While reading in the case data, the meta
component will be created by inferring the proper <code class="docutils literal notranslate"><span class="pre">Quantipy</span></code> variable types
from the <code class="docutils literal notranslate"><span class="pre">pandas</span></code> <code class="docutils literal notranslate"><span class="pre">dtype</span></code> information.</p>
<hr class="docutils" />
<p><strong>Update</strong>: <code class="docutils literal notranslate"><span class="pre">Quantity.swap(var,</span> <span class="pre">...,</span> <span class="pre">update_axis_def=True)</span></code></p>
<p>It is now possible to <code class="docutils literal notranslate"><span class="pre">swap()</span></code> the <code class="docutils literal notranslate"><span class="pre">'x'</span></code> variable of an array based <code class="docutils literal notranslate"><span class="pre">Quantity</span></code>,
as long as the length oh the constructing <code class="docutils literal notranslate"><span class="pre">'items'</span></code> collection is identical.
In addition, the new parameter <code class="docutils literal notranslate"><span class="pre">update_axis_def</span></code> is now by default enforcing
an update of the axis defintions (<code class="docutils literal notranslate"><span class="pre">pd.DataFrame</span></code> column names, etc) while
previously the method was keeping the original index and column names. The old
behaviour can be restored by setting the parameter to <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p>
<p><em>Array example</em>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">link</span> <span class="o">=</span> <span class="n">stack</span><span class="p">[</span><span class="n">name_data</span><span class="p">][</span><span class="s1">&#39;no_filter&#39;</span><span class="p">][</span><span class="s1">&#39;q5&#39;</span><span class="p">][</span><span class="s1">&#39;@&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">q</span> <span class="o">=</span> <span class="n">qp</span><span class="o">.</span><span class="n">Quantity</span><span class="p">(</span><span class="n">link</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">q</span><span class="o">.</span><span class="n">summarize</span><span class="p">()</span>
<span class="go">Array                     q5</span>
<span class="go">Questions               q5_1         q5_2         q5_3         q5_4         q5_5         q5_6</span>
<span class="go">Question Values</span>
<span class="go">q5       All     8255.000000  8255.000000  8255.000000  8255.000000  8255.000000  8255.000000</span>
<span class="go">         mean      26.410297    22.260569    25.181466    39.842883    24.399758    28.972017</span>
<span class="go">         stddev    40.415559    38.060583    40.018463    46.012205    40.537497    41.903322</span>
<span class="go">         min        1.000000     1.000000     1.000000     1.000000     1.000000     1.000000</span>
<span class="go">         25%        3.000000     3.000000     3.000000     3.000000     1.000000     3.000000</span>
<span class="go">         median     5.000000     3.000000     3.000000     5.000000     3.000000     5.000000</span>
<span class="go">         75%        5.000000     5.000000     5.000000    98.000000     5.000000    97.000000</span>
<span class="go">         max       98.000000    98.000000    98.000000    98.000000    98.000000    98.000000</span>
</pre></div>
</div>
<p><em>Updated axis definiton</em>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">q</span><span class="o">.</span><span class="n">swap</span><span class="p">(</span><span class="s1">&#39;q7&#39;</span><span class="p">,</span> <span class="n">update_axis_def</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">q</span><span class="o">.</span><span class="n">summarize</span><span class="p">()</span>
<span class="go">Array                     q7</span>
<span class="go">Questions               q7_1         q7_2         q7_3       q7_4       q7_5       q7_6</span>
<span class="go">Question Values</span>
<span class="go">q7       All     1195.000000  1413.000000  3378.000000  35.000000  43.000000  36.000000</span>
<span class="go">         mean       5.782427     5.423213     5.795145   4.228571   4.558140   5.333333</span>
<span class="go">         stddev     2.277894     2.157226     2.366247   2.073442   2.322789   2.552310</span>
<span class="go">         min        1.000000     1.000000     1.000000   1.000000   1.000000   1.000000</span>
<span class="go">         25%        4.000000     4.000000     4.000000   3.000000   3.000000   3.000000</span>
<span class="go">         median     6.000000     6.000000     6.000000   4.000000   4.000000   6.000000</span>
<span class="go">         75%        8.000000     7.000000     8.000000   6.000000   6.000000   7.750000</span>
<span class="go">         max        9.000000     9.000000     9.000000   8.000000   9.000000   9.000000</span>
</pre></div>
</div>
<p><em>Original axis definiton</em>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">q</span> <span class="o">=</span> <span class="n">qp</span><span class="o">.</span><span class="n">Quantity</span><span class="p">(</span><span class="n">link</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">q</span><span class="o">.</span><span class="n">swap</span><span class="p">(</span><span class="s1">&#39;q7&#39;</span><span class="p">,</span> <span class="n">update_axis_def</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">q</span><span class="o">.</span><span class="n">summarize</span><span class="p">()</span>
<span class="go">Array                     q5</span>
<span class="go">Questions               q5_1         q5_2         q5_3       q5_4       q5_5       q5_6</span>
<span class="go">Question Values</span>
<span class="go">q5       All     1195.000000  1413.000000  3378.000000  35.000000  43.000000  36.000000</span>
<span class="go">         mean       5.782427     5.423213     5.795145   4.228571   4.558140   5.333333</span>
<span class="go">         stddev     2.277894     2.157226     2.366247   2.073442   2.322789   2.552310</span>
<span class="go">         min        1.000000     1.000000     1.000000   1.000000   1.000000   1.000000</span>
<span class="go">         25%        4.000000     4.000000     4.000000   3.000000   3.000000   3.000000</span>
<span class="go">         median     6.000000     6.000000     6.000000   4.000000   4.000000   6.000000</span>
<span class="go">         75%        8.000000     7.000000     8.000000   6.000000   6.000000   7.750000</span>
<span class="go">         max        9.000000     9.000000     9.000000   8.000000   9.000000   9.000000</span>
</pre></div>
</div>
<hr class="docutils" />
<p><strong>Update</strong>: <code class="docutils literal notranslate"><span class="pre">DataSet.merge_texts()</span></code></p>
<p>The method will now always overwrite existing <code class="docutils literal notranslate"><span class="pre">text_key</span></code> meta, which makes it
possible to merge <code class="docutils literal notranslate"><span class="pre">text</span></code>s from meta of the same <code class="docutils literal notranslate"><span class="pre">text_key</span></code> as the master
<code class="docutils literal notranslate"><span class="pre">DataSet</span></code>.</p>
<hr class="docutils" />
<p><strong>Bugfix</strong>: <code class="docutils literal notranslate"><span class="pre">DataSet.band()</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">band(new_name=None)</span></code>’s automatic name generation was incorrectly creating
new variables with the name <code class="docutils literal notranslate"><span class="pre">None_banded</span></code>. This is now fixed.</p>
<hr class="docutils" />
<p><strong>Bugfix</strong>: <code class="docutils literal notranslate"><span class="pre">DataSet.copy()</span></code></p>
<p>The method will now check if the name of the copy already exists in the
<code class="docutils literal notranslate"><span class="pre">DataSet</span></code> and drop the referenced variable if found to prevent
inconsistencies. Additionally, it is not longer possible to copy isolated
<code class="docutils literal notranslate"><span class="pre">array</span></code> items:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">dataset</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="s1">&#39;q5_1&#39;</span><span class="p">)</span>
<span class="go">NotImplementedError: Cannot make isolated copy of array item &#39;q5_1&#39;. Please copy array variable &#39;q5&#39; instead!</span>
</pre></div>
</div>
</div>
<div class="section" id="sd-08-06-2017">
<h2>sd (08/06/2017)<a class="headerlink" href="#sd-08-06-2017" title="Permalink to this headline">¶</a></h2>
<p><strong>New</strong>: <code class="docutils literal notranslate"><span class="pre">DataSet.extend_valid_tks()</span></code>, <code class="docutils literal notranslate"><span class="pre">DataSet.valid_tks</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">DataSet</span></code> has a new attribute <code class="docutils literal notranslate"><span class="pre">valid_tks</span></code> that contains a list of all valid
textkeys. All methods that take a textkey as parameter are checked against that
list.</p>
<p>If a datafile contains a special/ unusual textkey (for example <code class="docutils literal notranslate"><span class="pre">'id-ID'</span></code> or
<code class="docutils literal notranslate"><span class="pre">'zh-TW'</span></code>), the list can be extended with <code class="docutils literal notranslate"><span class="pre">DataSet.extend_valid_tks()</span></code>.
This extension can also be used to create a textkey for special conditions,
for example to create texts only for powerpoint outputs:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">dataset</span><span class="o">.</span><span class="n">extend_valid_tks</span><span class="p">(</span><span class="s1">&#39;pptx&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dataset</span><span class="o">.</span><span class="n">force_texts</span><span class="p">(</span><span class="s1">&#39;pptx&#39;</span><span class="p">,</span> <span class="s1">&#39;en-GB&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dataset</span><span class="o">.</span><span class="n">set_variable_text</span><span class="p">(</span><span class="s1">&#39;gender&#39;</span><span class="p">,</span><span class="s1">&#39;Gender label for pptx&#39;</span><span class="p">,</span> <span class="n">text_key</span><span class="o">=</span><span class="s1">&#39;pptx&#39;</span><span class="p">)</span>
</pre></div>
</div>
<hr class="docutils" />
<p><strong>New</strong>: Equal error messages</p>
<p>All methods that use the parameters <code class="docutils literal notranslate"><span class="pre">name</span></code>/<code class="docutils literal notranslate"><span class="pre">var</span></code>, <code class="docutils literal notranslate"><span class="pre">text_key</span></code> or
<code class="docutils literal notranslate"><span class="pre">axis_edit</span></code>/ <code class="docutils literal notranslate"><span class="pre">axis</span></code> now have a decorator that checks the provided values.
The following shows a few examples for the new error messages:</p>
<p><code class="docutils literal notranslate"><span class="pre">name</span></code> &amp; <code class="docutils literal notranslate"><span class="pre">var</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;name&#39;</span> <span class="n">argument</span> <span class="k">for</span> <span class="n">meta</span><span class="p">()</span> <span class="n">must</span> <span class="n">be</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;columns&#39;</span><span class="p">,</span> <span class="s1">&#39;masks&#39;</span><span class="p">]</span><span class="o">.</span>
<span class="n">q1</span> <span class="ow">is</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;columns&#39;</span><span class="p">,</span> <span class="s1">&#39;masks&#39;</span><span class="p">]</span><span class="o">.</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">text_key</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>&#39;en-gb&#39; is not a valid text_key! Supported are: [&#39;en-GB&#39;, &#39;da-DK&#39;, &#39;fi-FI&#39;, &#39;nb-NO&#39;, &#39;sv-SE&#39;, &#39;de-DE&#39;]
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">axis_edit</span></code> &amp; <code class="docutils literal notranslate"><span class="pre">axis</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>&#39;xs&#39; is not a valid axis! Supported are: [&#39;x&#39;, &#39;y&#39;]
</pre></div>
</div>
<hr class="docutils" />
<p><strong>New</strong>: <code class="docutils literal notranslate"><span class="pre">DataSet.repair_text_edits(text_key)</span></code></p>
<p>This new method can be used in trackers, that were drawn up in an older <code class="docutils literal notranslate"><span class="pre">Quantipy</span></code>
version. Text objects can be repaired if are not well prepared, for example if
it looks like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="s1">&#39;en-GB&#39;</span><span class="p">:</span> <span class="s1">&#39;some English text&#39;</span><span class="p">,</span>
 <span class="s1">&#39;sv_SE&#39;</span><span class="p">:</span> <span class="s1">&#39;some Swedish text&#39;</span><span class="p">,</span>
 <span class="s1">&#39;x edits&#39;</span><span class="p">:</span> <span class="s1">&#39;new text&#39;</span><span class="p">}</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">DataSet.repair_text_edits()</span></code> loops over all text objects in the dataset and
matches the <code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">edits</span></code> and <code class="docutils literal notranslate"><span class="pre">y</span> <span class="pre">edits</span></code> texts to all included textkeys:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">dataset</span><span class="o">.</span><span class="n">repair_text_edits</span><span class="p">([</span><span class="s1">&#39;en-GB&#39;</span><span class="p">,</span> <span class="s1">&#39;sv-SE&#39;</span><span class="p">])</span>
<span class="go">{&#39;en-GB&#39;: &#39;some English text&#39;,</span>
<span class="go"> &#39;sv_SE&#39;: &#39;some Swedish text&#39;,</span>
<span class="go"> &#39;x edits&#39;: {&#39;en-GB&#39;: new text&#39;, &#39;sv-SE&#39;: &#39;new text&#39;}}</span>
</pre></div>
</div>
<hr class="docutils" />
<p><strong>Update</strong>: <code class="docutils literal notranslate"><span class="pre">DataSet.meta()</span></code>/ <code class="docutils literal notranslate"><span class="pre">.text()</span></code>/ <code class="docutils literal notranslate"><span class="pre">.values()</span></code>/ <code class="docutils literal notranslate"><span class="pre">.value_texts()</span></code>/ <code class="docutils literal notranslate"><span class="pre">.items()</span></code>/ <code class="docutils literal notranslate"><span class="pre">.item_texts()</span></code></p>
<p>All these methods now can take the parameters <code class="docutils literal notranslate"><span class="pre">text_key</span></code> and <code class="docutils literal notranslate"><span class="pre">axis_edit</span></code>.
The related text is taken from the meta information and shown in the output.
If a text key or axis edit is not included the text is returned as None.</p>
<hr class="docutils" />
<p><strong>Update</strong>: <code class="docutils literal notranslate"><span class="pre">DataSet.compare(dataset,</span> <span class="pre">variables=None,</span> <span class="pre">strict=False,</span> <span class="pre">text_key=None)</span></code></p>
<p>The method is totally updated, works more precise and contains a few new
features. Generally variables included in <code class="docutils literal notranslate"><span class="pre">dataset</span></code> are compared with
eponymous variables in the main <code class="docutils literal notranslate"><span class="pre">DataSet</span></code> instance. You can specify witch
<code class="docutils literal notranslate"><span class="pre">variables</span></code> should be compared, if question/ value texts should be compared
<code class="docutils literal notranslate"><span class="pre">strict</span></code> or not and for which <code class="docutils literal notranslate"><span class="pre">text_key</span></code>.</p>
<hr class="docutils" />
<p><strong>Update</strong>: <code class="docutils literal notranslate"><span class="pre">DataSet.validate(verbose=True)</span></code></p>
<p>A few new features are tested now and the output has changed. Set <code class="docutils literal notranslate"><span class="pre">verbose=True</span></code>
to see the definitions of the different error columns:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">name</span><span class="p">:</span> <span class="n">column</span><span class="o">/</span><span class="n">mask</span> <span class="n">name</span> <span class="ow">and</span> <span class="n">meta</span><span class="p">[</span><span class="n">collection</span><span class="p">][</span><span class="n">var</span><span class="p">][</span><span class="s1">&#39;name&#39;</span><span class="p">]</span> <span class="n">are</span> <span class="ow">not</span> <span class="n">identical</span>

<span class="n">q_label</span><span class="p">:</span> <span class="n">text</span> <span class="nb">object</span> <span class="ow">is</span> <span class="n">badly</span> <span class="n">formated</span> <span class="ow">or</span> <span class="n">has</span> <span class="n">empty</span> <span class="n">text</span> <span class="n">mapping</span>

<span class="n">values</span><span class="p">:</span> <span class="n">categorical</span> <span class="n">var</span> <span class="n">does</span> <span class="ow">not</span> <span class="n">contain</span> <span class="n">values</span><span class="p">,</span> <span class="n">value</span> <span class="n">text</span> <span class="ow">is</span> <span class="n">badly</span>
<span class="n">formated</span> <span class="ow">or</span> <span class="n">has</span> <span class="n">empty</span> <span class="n">text</span> <span class="n">mapping</span>

<span class="n">textkeys</span><span class="p">:</span> <span class="n">dataset</span><span class="o">.</span><span class="n">text_key</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">included</span> <span class="ow">or</span> <span class="n">existing</span> <span class="n">tks</span> <span class="n">are</span> <span class="ow">not</span>
<span class="n">consistent</span> <span class="p">(</span><span class="n">also</span> <span class="k">for</span> <span class="n">parents</span><span class="p">)</span>

<span class="n">source</span><span class="p">:</span> <span class="n">parents</span> <span class="ow">or</span> <span class="n">items</span> <span class="n">do</span> <span class="ow">not</span> <span class="n">exist</span>

<span class="n">codes</span><span class="p">:</span> <span class="n">codes</span> <span class="ow">in</span> <span class="o">.</span><span class="n">data</span> <span class="n">are</span> <span class="ow">not</span> <span class="n">included</span> <span class="ow">in</span> <span class="o">.</span><span class="n">meta</span>
</pre></div>
</div>
<hr class="docutils" />
<p><strong>Update</strong>: <code class="docutils literal notranslate"><span class="pre">DataSet.sorting()</span></code> / <code class="docutils literal notranslate"><span class="pre">.slicing()</span></code> / <code class="docutils literal notranslate"><span class="pre">.hiding()</span></code></p>
<p>These methods will now also work on lists of variable names.</p>
<hr class="docutils" />
<p><strong>Update</strong>: <code class="docutils literal notranslate"><span class="pre">DataSet.set_variable_text()</span></code>, <code class="docutils literal notranslate"><span class="pre">Dataset.set_item_texts()</span></code></p>
<p>If these methods are applied to an array item, the new variable text is also
included in the meta information of the parent array. The same works also the
other way around, if an array text is set, then the array item texts are modified.</p>
<hr class="docutils" />
<p><strong>Update</strong>: <code class="docutils literal notranslate"><span class="pre">DataSet.__init__(self,</span> <span class="pre">name,</span> <span class="pre">dimensions_comp=True)</span></code></p>
<p>A few new features are included to handle data coming from Crunch. While
initializing a new <code class="docutils literal notranslate"><span class="pre">DataSet</span></code> instance dimensions compatibility can be set to
False. In the custom template use <code class="docutils literal notranslate"><span class="pre">t.get_qp_dataset(name,</span> <span class="pre">dim_comp=False)</span></code>
in the load cells.</p>
<hr class="docutils" />
<p><strong>Bugfix</strong>: <code class="docutils literal notranslate"><span class="pre">DataSet.hmerge()</span></code></p>
<p>If <code class="docutils literal notranslate"><span class="pre">right_on</span></code> and <code class="docutils literal notranslate"><span class="pre">left_on</span></code> are used and <code class="docutils literal notranslate"><span class="pre">right_on</span></code> is also included in
the main file, it is not overwritten any more.</p>
</div>
<div class="section" id="sd-17-05-2017">
<h2>sd (17/05/2017)<a class="headerlink" href="#sd-17-05-2017" title="Permalink to this headline">¶</a></h2>
<p><strong>Update</strong>: <code class="docutils literal notranslate"><span class="pre">DataSet.set_variable_text(...,</span> <span class="pre">axis_edit=None)</span></code>, <code class="docutils literal notranslate"><span class="pre">DataSet.set_value_texts(...,</span> <span class="pre">axis_edit=False)</span></code></p>
<p>The new <code class="docutils literal notranslate"><span class="pre">axis_edit</span></code> argument can be used with one of <code class="docutils literal notranslate"><span class="pre">'x'</span></code>, <code class="docutils literal notranslate"><span class="pre">'y'</span></code> or <code class="docutils literal notranslate"><span class="pre">['x',</span> <span class="pre">'y']</span></code> to instruct a text metadata change that will only be visible in build exports.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">In a future version <code class="docutils literal notranslate"><span class="pre">set_col_text_edit()</span></code> and <code class="docutils literal notranslate"><span class="pre">set_val_text_text()</span></code> will
be removed! The identical functionality is provided via this <code class="docutils literal notranslate"><span class="pre">axis_edit</span></code> parameter.</p>
</div>
<hr class="docutils" />
<p><strong>Update</strong>: <code class="docutils literal notranslate"><span class="pre">DataSet.replace_texts(...,</span> <span class="pre">text_key=None)</span></code></p>
<p>The method loops over all meta text objects and replaces unwanted strings.
It is now possible to perform the replacement only for specified <code class="docutils literal notranslate"><span class="pre">text_key</span></code>s.
If <code class="docutils literal notranslate"><span class="pre">text_key=None</span></code> the method replaces the strings for all <code class="docutils literal notranslate"><span class="pre">text_key</span></code>s.</p>
<hr class="docutils" />
<p><strong>Update</strong>: <code class="docutils literal notranslate"><span class="pre">DataSet.force_texts(copy_to=None,</span> <span class="pre">copy_from=None,</span> <span class="pre">update_existing=False)</span></code></p>
<p>The method is now only able to force texts for all meta text objects (for
single variables use the methods <code class="docutils literal notranslate"><span class="pre">set_variable_text()</span></code> and
<code class="docutils literal notranslate"><span class="pre">set_value_texts()</span></code>).</p>
<hr class="docutils" />
<p><strong>Bugfix</strong>: <code class="docutils literal notranslate"><span class="pre">DataSet.copy()</span></code></p>
<p>Copied variables get the tag <code class="docutils literal notranslate"><span class="pre">created</span></code> and can be listed with
<code class="docutils literal notranslate"><span class="pre">t.list_variables(dataset,</span> <span class="pre">'created')</span></code>.</p>
<hr class="docutils" />
<p><strong>Bugfix</strong>: <code class="docutils literal notranslate"><span class="pre">DataSet.hmerge()</span></code>, <code class="docutils literal notranslate"><span class="pre">DataSet.vmerge()</span></code></p>
<p>Array meta information in merged datafiles is now updated correctly.</p>
</div>
<div class="section" id="sd-04-05-2017">
<h2>sd (04/05/2017)<a class="headerlink" href="#sd-04-05-2017" title="Permalink to this headline">¶</a></h2>
<p><strong>New</strong>: <code class="docutils literal notranslate"><span class="pre">DataSet.var_exists()</span></code></p>
<p>Returns True if the input variable/ list of variables are included in the
<code class="docutils literal notranslate"><span class="pre">DataSet</span></code> instance, otherwise False.</p>
<hr class="docutils" />
<p><strong>New</strong>: <code class="docutils literal notranslate"><span class="pre">DataSet.remove_html()</span></code>, <code class="docutils literal notranslate"><span class="pre">DataSet.replace_texts(replace)</span></code></p>
<p>The <code class="docutils literal notranslate"><span class="pre">DataSet</span></code> method <code class="docutils literal notranslate"><span class="pre">clean_texts()</span></code> has been removed and split into two
methods to make usage more clear: <code class="docutils literal notranslate"><span class="pre">remove_html()</span></code> will strip all <code class="docutils literal notranslate"><span class="pre">text</span></code>
metadata objects from any html and formatting tags. <code class="docutils literal notranslate"><span class="pre">replace_texts()</span></code> will
use a <code class="docutils literal notranslate"><span class="pre">dict</span></code> mapping of old to new <code class="docutils literal notranslate"><span class="pre">str</span></code> terms to change the matching
<code class="docutils literal notranslate"><span class="pre">text</span></code> throughout the <code class="docutils literal notranslate"><span class="pre">DataSet</span></code> metadata.</p>
<hr class="docutils" />
<p><strong>New</strong>: <code class="docutils literal notranslate"><span class="pre">DataSet.item_no(name)</span></code></p>
<p>This method will return the positional index number of an array item, e.g.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">dataset</span><span class="o">.</span><span class="n">item_no</span><span class="p">(</span><span class="s1">&#39;Q4A[</span><span class="si">{q4a_1}</span><span class="s1">].Q4A_grid&#39;</span><span class="p">)</span>
<span class="go">1</span>
</pre></div>
</div>
<hr class="docutils" />
<p><strong>New</strong>: <code class="docutils literal notranslate"><span class="pre">QuantipyViews</span></code>: <code class="docutils literal notranslate"><span class="pre">counts_cumsum</span></code>, <code class="docutils literal notranslate"><span class="pre">c%_cumsum</span></code></p>
<p>These two new views contain frequencies with cumulative sums which are computed
over the x-axis.</p>
<hr class="docutils" />
<p><strong>Update</strong>: <code class="docutils literal notranslate"><span class="pre">DataSet.text(name,</span> <span class="pre">shorten=True)</span></code></p>
<p>The new parameter <code class="docutils literal notranslate"><span class="pre">shorten</span></code> is now controlling if the variable <code class="docutils literal notranslate"><span class="pre">text</span></code> metadata
of array masks will be reported in short format, i.e. without the corresponding
mask label text. This is now also the default behaviour.</p>
<hr class="docutils" />
<p><strong>Update</strong>: <code class="docutils literal notranslate"><span class="pre">DataSet.to_array()</span></code></p>
<p>Created mask meta information now also contains keys <code class="docutils literal notranslate"><span class="pre">parent</span></code> and <code class="docutils literal notranslate"><span class="pre">subtype</span></code>.
Variable names are compatible with crunch and dimensions meta:</p>
<p>Example in Dimensions modus:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">dataset</span><span class="o">.</span><span class="n">to_array</span><span class="p">(</span><span class="s1">&#39;Q11&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;Q1&#39;</span><span class="p">,</span> <span class="s1">&#39;Q2&#39;</span><span class="p">,</span> <span class="s1">&#39;Q3&#39;</span><span class="p">,</span> <span class="s1">&#39;Q4&#39;</span><span class="p">,</span> <span class="s1">&#39;Q5&#39;</span><span class="p">],</span> <span class="s1">&#39;label&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>The new grid is named <code class="docutils literal notranslate"><span class="pre">'Q11.Q11_grid'</span></code> and the source/column variables are
<code class="docutils literal notranslate"><span class="pre">'Q11[{Q1}].-Q11_grid'</span></code> - <code class="docutils literal notranslate"><span class="pre">'Q11[{Q5}].-Q11_grid'</span></code>.</p>
<hr class="docutils" />
<p><strong>Bugfix</strong>: <code class="docutils literal notranslate"><span class="pre">DataSet.derotate()</span></code></p>
<p>Meta is now Crunch and Dimensions compatible. Also mask meta information are updated.</p>
</div>
<div class="section" id="sd-24-04-2017">
<h2>sd (24/04/2017)<a class="headerlink" href="#sd-24-04-2017" title="Permalink to this headline">¶</a></h2>
<p><strong>Update</strong>: <code class="docutils literal notranslate"><span class="pre">DataSet.hiding(...,</span> <span class="pre">hide_values=True)</span></code></p>
<p>The new parameter <code class="docutils literal notranslate"><span class="pre">hide_values</span></code> is only necessary if the input variable is a
mask. If <code class="docutils literal notranslate"><span class="pre">False</span></code>, mask items are hidden, if <code class="docutils literal notranslate"><span class="pre">True</span></code> mask values are hidden
for all mask items and for array summary sheets.</p>
<hr class="docutils" />
<p><strong>Bugfix</strong>: <code class="docutils literal notranslate"><span class="pre">DataSet.set_col_text_edit(name)</span></code></p>
<p>If the input variable is an array item, the new column text is also added to
<code class="docutils literal notranslate"><span class="pre">meta['mask'][name]['items]</span></code>.</p>
<hr class="docutils" />
<p><strong>Bugfix</strong>: <code class="docutils literal notranslate"><span class="pre">DataSet.drop(name,</span> <span class="pre">ignore_items=False)</span></code></p>
<p>If a mask is dropped, but the items are kept, all items are handled now as
individual variables and their meta information is not stored in <code class="docutils literal notranslate"><span class="pre">meta['lib']</span></code>
anymore.</p>
</div>
<div class="section" id="sd-06-04-2017">
<h2>sd (06/04/2017)<a class="headerlink" href="#sd-06-04-2017" title="Permalink to this headline">¶</a></h2>
<p>Only small adjustments.</p>
</div>
<div class="section" id="sd-29-03-2017">
<h2>sd (29/03/2017)<a class="headerlink" href="#sd-29-03-2017" title="Permalink to this headline">¶</a></h2>
<p><strong>New</strong>: <code class="docutils literal notranslate"><span class="pre">DataSet.codes_in_data(name)</span></code></p>
<p>This method returns a list of codes that exist in the data of a variable. This
information can be used for more complex recodes, for example copying a variable,
but keeping only all categories with more than 50 ratings, e.g.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">valid_code</span> <span class="o">=</span> <span class="n">dataset</span><span class="o">.</span><span class="n">codes_in_data</span><span class="p">(</span><span class="s1">&#39;varname&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">keep_code</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">valid_code</span> <span class="k">if</span> <span class="n">dataset</span><span class="p">[</span><span class="s1">&#39;varname&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()[</span><span class="n">x</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">49</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dataset</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="s1">&#39;varname&#39;</span><span class="p">,</span> <span class="s1">&#39;rc&#39;</span><span class="p">,</span> <span class="n">copy_only</span><span class="o">=</span><span class="n">keep_code</span><span class="p">)</span>
</pre></div>
</div>
<hr class="docutils" />
<p><strong>Update</strong>: <code class="docutils literal notranslate"><span class="pre">DataSet.copy(...,</span> <span class="pre">copy_not=None)</span></code></p>
<p>The new parameter <code class="docutils literal notranslate"><span class="pre">copy_not</span></code> takes a list of codes that should be ignored
for the copied version of the provided variable. The metadata of the copy will
be reduced as well.</p>
<hr class="docutils" />
<p><strong>Update</strong>: <code class="docutils literal notranslate"><span class="pre">DataSet.code_count()</span></code></p>
<p>This method is now alligned with <code class="docutils literal notranslate"><span class="pre">any()</span></code> and <code class="docutils literal notranslate"><span class="pre">all()</span></code> in that it can be used
on <code class="docutils literal notranslate"><span class="pre">'array'</span></code> variables as well. In such a case, the resulting <code class="docutils literal notranslate"><span class="pre">pandas.Series</span></code>
is reporting the number of answer codes found across all items per case data
row, i.e.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">code_count</span> <span class="o">=</span> <span class="n">dataset</span><span class="o">.</span><span class="n">code_count</span><span class="p">(</span><span class="s1">&#39;Q4A.Q4A_grid&#39;</span><span class="p">,</span> <span class="n">count_only</span><span class="o">=</span><span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">check</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">dataset</span><span class="p">[</span><span class="s1">&#39;Q4A.Q4A_grid&#39;</span><span class="p">],</span> <span class="n">code_count</span><span class="p">],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">check</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<span class="go">   Q4A[{q4a_1}].Q4A_grid  Q4A[{q4a_2}].Q4A_grid  Q4A[{q4a_3}].Q4A_grid  0</span>
<span class="go">0                    3.0                    3.0                    NaN  2</span>
<span class="go">1                    NaN                    NaN                    NaN  0</span>
<span class="go">2                    3.0                    3.0                    4.0  3</span>
<span class="go">3                    5.0                    4.0                    2.0  1</span>
<span class="go">4                    4.0                    4.0                    4.0  3</span>
<span class="go">5                    4.0                    5.0                    4.0  2</span>
<span class="go">6                    3.0                    3.0                    3.0  3</span>
<span class="go">7                    4.0                    4.0                    4.0  3</span>
<span class="go">8                    6.0                    6.0                    6.0  0</span>
<span class="go">9                    4.0                    5.0                    5.0  1</span>
</pre></div>
</div>
</div>
<hr class="docutils" />
<div class="section" id="sd-20-03-2017">
<h2>sd (20/03/2017)<a class="headerlink" href="#sd-20-03-2017" title="Permalink to this headline">¶</a></h2>
<p><strong>New</strong>: <code class="docutils literal notranslate"><span class="pre">qp.DataSet(dimensions_comp=True)</span></code></p>
<p>The <code class="docutils literal notranslate"><span class="pre">DataSet</span></code> class can now be explicitly run in a Dimensions compatibility
mode to control the naming conventions of <code class="docutils literal notranslate"><span class="pre">array</span></code> variables (“grids”). This
is also the default behaviour for now. This comes with a few changes related to
meta creation and variable access using <code class="docutils literal notranslate"><span class="pre">DataSet</span></code> methods. Please see a brief
case study on this topic <a class="reference internal" href="how_to_snippets/dimensions_comp.html"><span class="doc">here</span></a>.</p>
<hr class="docutils" />
<p><strong>New</strong>: enriched <code class="docutils literal notranslate"><span class="pre">items</span></code> / <code class="docutils literal notranslate"><span class="pre">masks</span></code> meta data</p>
<p><code class="docutils literal notranslate"><span class="pre">masks</span></code> will now also store the <code class="docutils literal notranslate"><span class="pre">subtype</span></code> (<code class="docutils literal notranslate"><span class="pre">single</span></code>, <code class="docutils literal notranslate"><span class="pre">delimited</span> <span class="pre">set</span></code>, etc.)
while <code class="docutils literal notranslate"><span class="pre">items</span></code> elements will now contain a reference to the defining <code class="docutils literal notranslate"><span class="pre">masks</span></code>
entrie(s) in a new <code class="docutils literal notranslate"><span class="pre">parent</span></code> object.</p>
<hr class="docutils" />
<p><strong>Update</strong>: <code class="docutils literal notranslate"><span class="pre">DataSet.weight(...,</span> <span class="pre">subset=None)</span></code></p>
<p>Filters the dataset by giving a Quantipy complex logic expression and weights
only the remaining subset.</p>
<hr class="docutils" />
<p><strong>Update</strong>: Defining categorical <code class="docutils literal notranslate"><span class="pre">values</span></code> meta and <code class="docutils literal notranslate"><span class="pre">array</span></code> items</p>
<p>Both <code class="docutils literal notranslate"><span class="pre">values</span></code> and <code class="docutils literal notranslate"><span class="pre">items</span></code> can now be created in three different ways when
working with the <code class="docutils literal notranslate"><span class="pre">DataSet</span></code> methods <code class="docutils literal notranslate"><span class="pre">add_meta()</span></code>, <code class="docutils literal notranslate"><span class="pre">extend_values()</span></code> and
<code class="docutils literal notranslate"><span class="pre">derive()</span></code>: (1) Tuples that map element code to label, (2) only labels or (3)
only element codes. Please see quick guide on that <a class="reference internal" href="how_to_snippets/create_categorical_meta.html"><span class="doc">here</span></a></p>
</div>
<div class="section" id="sd-07-03-2017">
<h2>sd (07/03/2017)<a class="headerlink" href="#sd-07-03-2017" title="Permalink to this headline">¶</a></h2>
<p><strong>Update</strong>: <code class="docutils literal notranslate"><span class="pre">DataSet.code_count(...,</span> <span class="pre">count_not=None)</span></code></p>
<p>The new parameter <code class="docutils literal notranslate"><span class="pre">count_not</span></code> can be used to restrict the set of codes feeding
into the resulting <code class="docutils literal notranslate"><span class="pre">pd.Series</span></code> by exclusion (while <code class="docutils literal notranslate"><span class="pre">count_only</span></code> restricts
by inclusion).</p>
<hr class="docutils" />
<p><strong>Update</strong>: <code class="docutils literal notranslate"><span class="pre">DataSet.copy(...,</span> <span class="pre">copy_only=None)</span></code></p>
<p>The new parameter <code class="docutils literal notranslate"><span class="pre">copy_only</span></code> takes a list of codes that should be included
for the copied version of the provided variable, all others will be ignored
and the metadata of the copy will be reduced as well.</p>
<hr class="docutils" />
<p><strong>Bugfix</strong>: <code class="docutils literal notranslate"><span class="pre">DataSet.band()</span></code></p>
<p>There was a bug that was causing the method to crash for negative values. It is
now possible to create negative single value bands, while negative ranges
(lower and/or upper bound &lt; 0) will raise a <code class="docutils literal notranslate"><span class="pre">ValueError</span></code>.</p>
</div>
<hr class="docutils" />
<div class="section" id="sd-24-02-2017">
<h2>sd (24/02/2017)<a class="headerlink" href="#sd-24-02-2017" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Some minor bugfixes and updates. Please use latest version.</li>
</ul>
</div>
<hr class="docutils" />
<div class="section" id="sd-16-02-2017">
<h2>sd (16/02/2017)<a class="headerlink" href="#sd-16-02-2017" title="Permalink to this headline">¶</a></h2>
<p><strong>New:</strong> <code class="docutils literal notranslate"><span class="pre">DataSet.derotate(levels,</span> <span class="pre">mapper,</span> <span class="pre">other=None,</span> <span class="pre">unique_key='identity',</span> <span class="pre">dropna=True)</span></code></p>
<p>Create a derotated (“levelled”, responses-to-cases) <code class="docutils literal notranslate"><span class="pre">DataSet</span></code> instance by
defining level variables, looped variables and other (simple) variables that
should be added.</p>
<p>View more information on the topic <a class="reference internal" href="how_to_snippets/derotate.html"><span class="doc">here</span></a>.</p>
<hr class="docutils" />
<p><strong>New:</strong> <code class="docutils literal notranslate"><span class="pre">DataSet.to_array(name,</span> <span class="pre">variables,</span> <span class="pre">label)</span></code></p>
<p>Combine <code class="docutils literal notranslate"><span class="pre">column</span></code> variables with identical <code class="docutils literal notranslate"><span class="pre">values</span></code> objects to an <code class="docutils literal notranslate"><span class="pre">array</span></code>
incl. all required <code class="docutils literal notranslate"><span class="pre">meta['masks']</span></code> information.</p>
<hr class="docutils" />
<p><strong>Update:</strong> <code class="docutils literal notranslate"><span class="pre">DataSet.interlock(...,</span> <span class="pre">variables)</span></code></p>
<p>It is now possible to add <code class="docutils literal notranslate"><span class="pre">dict</span></code>s to <code class="docutils literal notranslate"><span class="pre">variables</span></code>. In these <code class="docutils literal notranslate"><span class="pre">dict</span></code>s a
<code class="docutils literal notranslate"><span class="pre">derive()</span></code>-like mapper can be included which will then create a temporary
variable for the interlocked result. Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">variables</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;gender&#39;</span><span class="p">,</span>
<span class="gp">... </span>             <span class="p">{</span><span class="s1">&#39;agegrp&#39;</span><span class="p">:</span> <span class="p">[(</span><span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;18-34&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;age&#39;</span><span class="p">:</span> <span class="n">frange</span><span class="p">(</span><span class="s1">&#39;18-34&#39;</span><span class="p">)}),</span>
<span class="gp">... </span>                         <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;35-54&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;age&#39;</span><span class="p">:</span> <span class="n">frange</span><span class="p">(</span><span class="s1">&#39;35-54&#39;</span><span class="p">)}),</span>
<span class="gp">... </span>                         <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;55+&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;age&#39;</span><span class="p">:</span> <span class="n">is_ge</span><span class="p">(</span><span class="mi">55</span><span class="p">)})]},</span>
<span class="gp">... </span>             <span class="s1">&#39;region&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dataset</span><span class="o">.</span><span class="n">interlock</span><span class="p">(</span><span class="s1">&#39;new_var&#39;</span><span class="p">,</span> <span class="s1">&#39;label&#39;</span><span class="p">,</span> <span class="n">variables</span><span class="p">)</span>
</pre></div>
</div>
</div>
<hr class="docutils" />
<div class="section" id="sd-04-01-2017">
<h2>sd (04/01/2017)<a class="headerlink" href="#sd-04-01-2017" title="Permalink to this headline">¶</a></h2>
<p><strong>New:</strong> <code class="docutils literal notranslate"><span class="pre">DataSet.flatten(name,</span> <span class="pre">codes,</span> <span class="pre">new_name=None,</span> <span class="pre">text_key=None)</span></code></p>
<p>Creates a new <code class="docutils literal notranslate"><span class="pre">delimited</span> <span class="pre">set</span></code> variable that groups <code class="docutils literal notranslate"><span class="pre">grid</span> <span class="pre">item</span></code> answers to
categories. The <code class="docutils literal notranslate"><span class="pre">items</span></code> become <code class="docutils literal notranslate"><span class="pre">values</span></code> of the new variable. If an
<code class="docutils literal notranslate"><span class="pre">item</span></code> contains one of the <code class="docutils literal notranslate"><span class="pre">codes</span></code> it will be counted towards the categorical
case data of the new variable.</p>
<hr class="docutils" />
<p><strong>New:</strong> <code class="docutils literal notranslate"><span class="pre">DataSet.uncode(target,</span> <span class="pre">mapper,</span> <span class="pre">default=None,</span> <span class="pre">intersect=None,</span> <span class="pre">inplace=True)</span></code></p>
<p>Remove codes from the <code class="docutils literal notranslate"><span class="pre">target</span></code> variable’s data component if a logical
condition is satisfied.</p>
<hr class="docutils" />
<p><strong>New:</strong> <code class="docutils literal notranslate"><span class="pre">DataSet.text(var,</span> <span class="pre">text_key=None)</span></code></p>
<p>Returns the question text label (per <code class="docutils literal notranslate"><span class="pre">text_key</span></code>) of a variable.</p>
<hr class="docutils" />
<p><strong>New:</strong> <code class="docutils literal notranslate"><span class="pre">DataSet.unroll(varlist,</span> <span class="pre">keep=None,</span> <span class="pre">both=None)</span></code></p>
<p>Replaces <code class="docutils literal notranslate"><span class="pre">masks</span></code> names inside <code class="docutils literal notranslate"><span class="pre">varlist</span></code> with their <code class="docutils literal notranslate"><span class="pre">items</span></code>. Optionally,
individual <code class="docutils literal notranslate"><span class="pre">masks</span></code> can be excluded or kept inside the list.</p>
<hr class="docutils" />
<p><strong>New:</strong> <code class="docutils literal notranslate"><span class="pre">DataSet.from_stack(stack,</span> <span class="pre">datakey=None)</span></code></p>
<p>Create a <code class="docutils literal notranslate"><span class="pre">quantipy.DataSet</span></code> from the <code class="docutils literal notranslate"><span class="pre">meta</span></code>, <code class="docutils literal notranslate"><span class="pre">data</span></code>, <code class="docutils literal notranslate"><span class="pre">data_key</span></code> and
<code class="docutils literal notranslate"><span class="pre">filter</span></code> definition of a <code class="docutils literal notranslate"><span class="pre">quantipy.Stack</span></code> instance.</p>
</div>
<hr class="docutils" />
<div class="section" id="sd-8-12-2016">
<h2>sd (8/12/2016)<a class="headerlink" href="#sd-8-12-2016" title="Permalink to this headline">¶</a></h2>
<p><strong>New:</strong></p>
<p><code class="docutils literal notranslate"><span class="pre">DataSet.from_excel(path_xlsx,</span> <span class="pre">merge=True,</span> <span class="pre">unique_key='identity')</span></code></p>
<p>Returns a new <code class="docutils literal notranslate"><span class="pre">DataSet</span></code> instance with <code class="docutils literal notranslate"><span class="pre">data</span></code> from <code class="docutils literal notranslate"><span class="pre">excel</span></code>. The <code class="docutils literal notranslate"><span class="pre">meta</span></code>
for all variables contains <code class="docutils literal notranslate"><span class="pre">type='int'</span></code>.</p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">new_ds</span> <span class="pre">=</span> <span class="pre">dataset.from_excel(path,</span> <span class="pre">True,</span> <span class="pre">'identity')</span></code></p>
<p>The function is able to modify <code class="docutils literal notranslate"><span class="pre">dataset</span></code> inplace by merging <code class="docutils literal notranslate"><span class="pre">new_ds</span></code> on
<code class="docutils literal notranslate"><span class="pre">identity</span></code>.</p>
<hr class="docutils" />
<p><strong>Update:</strong></p>
<p><code class="docutils literal notranslate"><span class="pre">DataSet.copy(...,</span> <span class="pre">slicer=None)</span></code></p>
<p>It is now possible to filter the data that statisfies the logical condition
provided in the <code class="docutils literal notranslate"><span class="pre">slicer</span></code>.
Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">dataset</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="s1">&#39;q1&#39;</span><span class="p">,</span> <span class="s1">&#39;rec&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;q1&#39;</span><span class="p">:</span> <span class="n">not_any</span><span class="p">([</span><span class="mi">99</span><span class="p">])})</span>
</pre></div>
</div>
</div>
<hr class="docutils" />
<div class="section" id="sd-23-11-2016">
<h2>sd (23/11/2016)<a class="headerlink" href="#sd-23-11-2016" title="Permalink to this headline">¶</a></h2>
<p><strong>Update:</strong></p>
<p><code class="docutils literal notranslate"><span class="pre">DataSet.rename(name,</span> <span class="pre">new_name=None,</span> <span class="pre">array_item=None)</span></code></p>
<p>The function is able to rename <code class="docutils literal notranslate"><span class="pre">columns</span></code>, <code class="docutils literal notranslate"><span class="pre">masks</span></code> or <code class="docutils literal notranslate"><span class="pre">mask</span> <span class="pre">items</span></code>.
<code class="docutils literal notranslate"><span class="pre">maks</span> <span class="pre">items</span></code> are changed by position.</p>
<hr class="docutils" />
<p><strong>Update:</strong></p>
<p><code class="docutils literal notranslate"><span class="pre">DataSet.categorize(...,</span> <span class="pre">categorized_name=None)</span></code></p>
<p>Provide a custom name string for <code class="docutils literal notranslate"><span class="pre">categorized_name</span></code> will change the default
name of the categorized variable from <code class="docutils literal notranslate"><span class="pre">OLD_NAME#</span></code> to the passed string.</p>
</div>
<hr class="docutils" />
<div class="section" id="sd-16-11-2016">
<h2>sd (16/11/2016)<a class="headerlink" href="#sd-16-11-2016" title="Permalink to this headline">¶</a></h2>
<p><strong>New:</strong></p>
<p><code class="docutils literal notranslate"><span class="pre">DataSet.check_dupe(name='identity')</span></code></p>
<p>Returns a list with duplicated values for the variable provided via <code class="docutils literal notranslate"><span class="pre">name</span></code>.
Identifies for example duplicated identities.</p>
<hr class="docutils" />
<p><strong>New:</strong></p>
<p><code class="docutils literal notranslate"><span class="pre">DataSet.start_meta(text_key=None)</span></code></p>
<p>Creates an empty QP meta data document blueprint to add variable definitions to.</p>
<hr class="docutils" />
<p><strong>Update:</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">DataSet</span><span class="o">.</span><span class="n">create_set</span><span class="p">(</span><span class="n">setname</span><span class="o">=</span><span class="s1">&#39;new_set&#39;</span><span class="p">,</span> <span class="n">based_on</span><span class="o">=</span><span class="s1">&#39;data file&#39;</span><span class="p">,</span> <span class="n">included</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
<span class="o">...</span>               <span class="n">excluded</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">strings</span><span class="o">=</span><span class="s1">&#39;keep&#39;</span><span class="p">,</span> <span class="n">arrays</span><span class="o">=</span><span class="s1">&#39;both&#39;</span><span class="p">,</span> <span class="n">replace</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
<span class="o">...</span>               <span class="n">overwrite</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
</pre></div>
</div>
<p>Add a new <code class="docutils literal notranslate"><span class="pre">set</span></code> to the <code class="docutils literal notranslate"><span class="pre">meta['sets']</span></code> object. Variables from an existing
<code class="docutils literal notranslate"><span class="pre">set</span></code> (<code class="docutils literal notranslate"><span class="pre">based_on</span></code>) can be <code class="docutils literal notranslate"><span class="pre">included</span></code> to <code class="docutils literal notranslate"><span class="pre">new_set</span></code> or varibles can be
<code class="docutils literal notranslate"><span class="pre">excluded</span></code> from <code class="docutils literal notranslate"><span class="pre">based_on</span></code> with customized lists of variables.
Control <code class="docutils literal notranslate"><span class="pre">string</span></code> variables and <code class="docutils literal notranslate"><span class="pre">masks</span></code> with the <code class="docutils literal notranslate"><span class="pre">kwargs</span></code> <code class="docutils literal notranslate"><span class="pre">strings</span></code> and
<code class="docutils literal notranslate"><span class="pre">arrays</span></code>. <code class="docutils literal notranslate"><span class="pre">replace</span></code> single variables in <code class="docutils literal notranslate"><span class="pre">new_set</span></code> with a <code class="docutils literal notranslate"><span class="pre">dict</span></code> .</p>
<hr class="docutils" />
<p><strong>Update:</strong></p>
<p><code class="docutils literal notranslate"><span class="pre">DataSet.from_components(...,</span> <span class="pre">text_key=None)</span></code></p>
<p>Will now accept a <code class="docutils literal notranslate"><span class="pre">text_key</span></code> in the method call. If querying a <code class="docutils literal notranslate"><span class="pre">text_key</span></code>
from the meta component fails, the method will no longer crash, but raise a
<code class="docutils literal notranslate"><span class="pre">warning</span></code> and set the <code class="docutils literal notranslate"><span class="pre">text_key</span></code> to <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
<hr class="docutils" />
<p><strong>Update:</strong></p>
<div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">DataSet.as_float()</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">DataSet.as_int()</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">DataSet.as_single()</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">DataSet.as_delimited_set()</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">DataSet.as_string()</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">DataSet.band_numerical()</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">DataSet.derive_categorical()</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">DataSet.set_mask_text()</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">DataSet.set_column_text()</span></code></div>
</div>
<p>These methods will now print a <code class="docutils literal notranslate"><span class="pre">UserWarning</span></code> to prepare for the soon to
come removal of them.</p>
<hr class="docutils" />
<p><strong>Bugfix:</strong></p>
<p><code class="docutils literal notranslate"><span class="pre">DataSet.__setitem__()</span></code></p>
<p>Trying to set <code class="docutils literal notranslate"><span class="pre">np.NaN</span></code> was failing the test against meta data for categorical
variables and was raising a <code class="docutils literal notranslate"><span class="pre">ValueError</span></code> then. This is fixed now.</p>
</div>
<hr class="docutils" />
<div class="section" id="sd-11-11-2016">
<h2>sd (11/11/2016)<a class="headerlink" href="#sd-11-11-2016" title="Permalink to this headline">¶</a></h2>
<p><strong>New:</strong></p>
<div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">DataSet.columns</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">DataSet.masks</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">DataSet.sets</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">DataSet.singles</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">DataSet.delimited_sets</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">DataSet.ints</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">DataSet.floats</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">DataSet.dates</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">DataSet.strings</span></code></div>
</div>
<p>New <code class="docutils literal notranslate"><span class="pre">DataSet</span></code> instance attributes to quickly return the list of <code class="docutils literal notranslate"><span class="pre">columns</span></code>,
<code class="docutils literal notranslate"><span class="pre">masks</span></code> and <code class="docutils literal notranslate"><span class="pre">sets</span></code> objects from the meta or query the variables by
<code class="docutils literal notranslate"><span class="pre">type</span></code>. Use this to check for variables, iteration, inspection, ect.</p>
<hr class="docutils" />
<p><strong>New:</strong></p>
<p><code class="docutils literal notranslate"><span class="pre">DataSet.categorize(name)</span></code></p>
<p>Create a categorized version of <code class="docutils literal notranslate"><span class="pre">int/string/date</span></code> variables. New variables
will be named as per <code class="docutils literal notranslate"><span class="pre">OLD_NAME#</span></code></p>
<hr class="docutils" />
<p><strong>New:</strong></p>
<p><code class="docutils literal notranslate"><span class="pre">DataSet.convert(name,</span> <span class="pre">to)</span></code></p>
<p>Wraps the individual <code class="docutils literal notranslate"><span class="pre">as_TYPE()</span></code> conversion methods. <code class="docutils literal notranslate"><span class="pre">to</span></code> must be one of
<code class="docutils literal notranslate"><span class="pre">'int',</span> <span class="pre">'float',</span> <span class="pre">'string',</span> <span class="pre">'single',</span> <span class="pre">'delimited</span> <span class="pre">set'</span></code>.</p>
<hr class="docutils" />
<p><strong>New:</strong></p>
<p><code class="docutils literal notranslate"><span class="pre">DataSet.as_string(name)</span></code></p>
<p>Only for completeness: Use <code class="docutils literal notranslate"><span class="pre">DataSet.convert(name,</span> <span class="pre">to='string')</span></code> instead.</p>
<p>Converts <code class="docutils literal notranslate"><span class="pre">int/float/single/date</span></code> typed variables into a <code class="docutils literal notranslate"><span class="pre">string</span></code> and
removes all categorical metadata.</p>
<hr class="docutils" />
<p><strong>Update:</strong></p>
<p><code class="docutils literal notranslate"><span class="pre">DataSet.add_meta()</span></code></p>
<p>Can now add <code class="docutils literal notranslate"><span class="pre">date</span></code> and <code class="docutils literal notranslate"><span class="pre">text</span></code> type meta data.</p>
<hr class="docutils" />
<p><strong>Bugfix:</strong></p>
<p><code class="docutils literal notranslate"><span class="pre">DataSet.vmerge()</span></code></p>
<p>If <code class="docutils literal notranslate"><span class="pre">masks</span></code> in the right <code class="docutils literal notranslate"><span class="pre">dataset</span></code>, that also exist in the left <code class="docutils literal notranslate"><span class="pre">dataset</span></code>,
have new <code class="docutils literal notranslate"><span class="pre">items</span></code> or <code class="docutils literal notranslate"><span class="pre">values</span></code>, they are added to <code class="docutils literal notranslate"><span class="pre">meta['masks']</span></code>,
<code class="docutils literal notranslate"><span class="pre">meta['lib']</span></code> and <code class="docutils literal notranslate"><span class="pre">meta['sets']</span></code>.</p>
</div>
<hr class="docutils" />
<div class="section" id="sd-09-11-2016">
<h2>sd (09/11/2016)<a class="headerlink" href="#sd-09-11-2016" title="Permalink to this headline">¶</a></h2>
<p><strong>New:</strong></p>
<p><code class="docutils literal notranslate"><span class="pre">DataSet.as_float(name)</span></code></p>
<p>Converts <code class="docutils literal notranslate"><span class="pre">int/single</span></code> typed variables into a <code class="docutils literal notranslate"><span class="pre">float</span></code> and removes
all categorical metadata.</p>
<hr class="docutils" />
<p><strong>New:</strong></p>
<p><code class="docutils literal notranslate"><span class="pre">DataSet.as_int(name)</span></code></p>
<p>Converts <code class="docutils literal notranslate"><span class="pre">single</span></code> typed variables into a <code class="docutils literal notranslate"><span class="pre">int</span></code> and removes
all categorical metadata.</p>
<hr class="docutils" />
<p><strong>New:</strong></p>
<p><code class="docutils literal notranslate"><span class="pre">DataSet.as_single(name)</span></code></p>
<p>Converts <code class="docutils literal notranslate"><span class="pre">int</span></code> typed variables into a <code class="docutils literal notranslate"><span class="pre">single</span></code> and adds numeric values as
categorical metadata.</p>
<hr class="docutils" />
<p><strong>New:</strong></p>
<p><code class="docutils literal notranslate"><span class="pre">DataSet.create_set(name,</span> <span class="pre">variables,</span> <span class="pre">blacklist=None)</span></code></p>
<p>Adds a new <code class="docutils literal notranslate"><span class="pre">set</span></code> to <code class="docutils literal notranslate"><span class="pre">meta['sets']</span></code> object. Create easily <code class="docutils literal notranslate"><span class="pre">sets</span></code> from
other <code class="docutils literal notranslate"><span class="pre">sets</span></code> while using customised <code class="docutils literal notranslate"><span class="pre">blacklist</span></code>.</p>
<hr class="docutils" />
<p><strong>New:</strong></p>
<p><code class="docutils literal notranslate"><span class="pre">DataSet.drop(name,</span> <span class="pre">ignore_items=False)</span></code></p>
<p>Removes all metadata and data referenced to the variable. When passing an
<code class="docutils literal notranslate"><span class="pre">array</span> <span class="pre">mask</span></code>, <code class="docutils literal notranslate"><span class="pre">ignore_items</span></code> can be ste to <code class="docutils literal notranslate"><span class="pre">True</span></code> to keep the <code class="docutils literal notranslate"><span class="pre">item</span>
<span class="pre">columns</span></code> incl. their metadata.</p>
<hr class="docutils" />
<p><strong>New:</strong></p>
<p><code class="docutils literal notranslate"><span class="pre">DataSet.compare(dataset=None,</span> <span class="pre">variables=None)</span></code></p>
<p>Compare the metadata definition between the current and another <code class="docutils literal notranslate"><span class="pre">dataset</span></code>,
optionally restricting to a pair of variables.</p>
<hr class="docutils" />
<p><strong>Update:</strong></p>
<p><code class="docutils literal notranslate"><span class="pre">DataSet.__setitem__()</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">[..]</span></code>-Indexer now checks scalars against categorical meta.</p>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="03_how_to_snippets.html" class="btn btn-neutral float-right" title="How-to-snippets" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="01_latest.html" class="btn btn-neutral" title="Latest (09/04/2019)" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017, Quantipy dev team.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../',
            VERSION:'0.1.3',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../_static/doctools.js"></script>
      <script type="text/javascript" src="../../_static/custom.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>